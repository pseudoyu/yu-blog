<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta name=generator content="Hugo 0.105.0"><meta charset=utf-8><title>Setting up a Website Analytics System with GoatCounter and Zeabur · Pseudoyu</title><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><script data-goatcounter=https://stats.pseudoyu.com/count async src=//stats.pseudoyu.com/count.js></script><meta name=description content="Preface In my article &amp;ldquo;What Changed in My Blog in 2024&amp;rdquo;, I introduced the blog system I built using Serverless platforms and some open-source projects. I also started this series of tutorials to document the entire process of setup and deployment.
This article focuses on the analytics system solution.
Analytics System Solution Compared to the blog itself and the commenting system, I hadn&amp;rsquo;t paid much attention to an analytics system for a long time (mainly because there weren&amp;rsquo;t many readers back then)."><meta name=keywords content="hugo,blockchain,programming"><link rel=canonical href=https://www.pseudoyu.com/en/2024/08/06/deploy_web_statistics_system_using_goatcounter_and_zeabur/><link rel=alternate href=https://www.pseudoyu.com/zh/2024/08/06/deploy_web_statistics_system_using_goatcounter_and_zeabur/ hreflang=zh><link rel=alternate href=https://www.pseudoyu.com/de/2024/08/06/deploy_web_statistics_system_using_goatcounter_and_zeabur/ hreflang=de><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css integrity=sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.2.0/css/all.css integrity=sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ crossorigin=anonymous><link rel=stylesheet href=https://www.pseudoyu.com/css/den.css><link rel=stylesheet href=https://www.pseudoyu.com/css/custom.css><meta property="og:title" content="Setting up a Website Analytics System with GoatCounter and Zeabur"><meta property="og:description" content="Preface In my article &ldquo;What Changed in My Blog in 2024&rdquo;, I introduced the blog system I built using Serverless platforms and some open-source projects. I also started this series of tutorials to document the entire process of setup and deployment.
This article focuses on the analytics system solution.
Analytics System Solution Compared to the blog itself and the commenting system, I hadn&rsquo;t paid much attention to an analytics system for a long time (mainly because there weren&rsquo;t many readers back then)."><meta property="og:type" content="article"><meta property="og:url" content="https://www.pseudoyu.com/en/2024/08/06/deploy_web_statistics_system_using_goatcounter_and_zeabur/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-08-06T19:00:42+08:00"><meta property="article:modified_time" content="2024-08-06T19:00:42+08:00"><meta itemprop=name content="Setting up a Website Analytics System with GoatCounter and Zeabur"><meta itemprop=description content="Preface In my article &ldquo;What Changed in My Blog in 2024&rdquo;, I introduced the blog system I built using Serverless platforms and some open-source projects. I also started this series of tutorials to document the entire process of setup and deployment.
This article focuses on the analytics system solution.
Analytics System Solution Compared to the blog itself and the commenting system, I hadn&rsquo;t paid much attention to an analytics system for a long time (mainly because there weren&rsquo;t many readers back then)."><meta itemprop=datePublished content="2024-08-06T19:00:42+08:00"><meta itemprop=dateModified content="2024-08-06T19:00:42+08:00"><meta itemprop=wordCount content="1887"><meta itemprop=keywords content="statistic-system,serverless,zeabur,blog,goatcounter,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Setting up a Website Analytics System with GoatCounter and Zeabur"><meta name=twitter:description content="Preface In my article &ldquo;What Changed in My Blog in 2024&rdquo;, I introduced the blog system I built using Serverless platforms and some open-source projects. I also started this series of tutorials to document the entire process of setup and deployment.
This article focuses on the analytics system solution.
Analytics System Solution Compared to the blog itself and the commenting system, I hadn&rsquo;t paid much attention to an analytics system for a long time (mainly because there weren&rsquo;t many readers back then)."></head><body><div class=header-container style=background:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2)),url(https://www.pseudoyu.com/images/background.png);background-position:50%;background-size:cover><div class=container><nav class="header-nav navbar navbar-expand-md navbar-dark light-dark"><div class="header-logo navbar-brand"><a class=float-left href=https://www.pseudoyu.com/en/><img class="mr20 header-logo-image" src=https://www.pseudoyu.com/images/icon.png alt=logo>
Pseudoyu</a></div><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarNav aria-controls=navbarNav aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="nav-menu collapse navbar-collapse" id=navbarNav><ul class=navbar-nav><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/en/category/ideas/>Idea</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/en/category/tools/>Tool</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/en/category/develop/>Develop</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/en/links/>Links</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/en/about/>About</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/en/search/>Search</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/zh/><i class="fas fa-globe"></i> 简</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/de/><i class="fas fa-globe"></i> DE</a></li></ul></div></nav></div><div class="container header-wrapper"><div class=row><div class=col-lg-12><div class=header-content><h1 class=header-title>Setting up a Website Analytics System with GoatCounter and Zeabur</h1><p class=header-date>Author:
pseudoyu
| <span>1887 words, 9 minutes</span>
| <span class=remark42__counter data-url=https://www.pseudoyu.com/en/2024/08/06/deploy_web_statistics_system_using_goatcounter_and_zeabur/></span> comments
| 2024-08-06
| Category:
<a href=https://www.pseudoyu.com/en/category/tools/>Tools</a></p><div class=header-underline></div><div class=clearfix></div><p class="float-right header-tags"><i class="fas fa-tags" aria-hidden=true></i>
<a href=https://www.pseudoyu.com/en/tag/blog/>blog</a>,
<a href=https://www.pseudoyu.com/en/tag/goatcounter/>goatcounter</a>,
<a href=https://www.pseudoyu.com/en/tag/serverless/>serverless</a>,
<a href=https://www.pseudoyu.com/en/tag/statistic-system/>statistic-system</a>,
<a href=https://www.pseudoyu.com/en/tag/zeabur/>zeabur</a></p><div class=clearfix></div><p class="float-right translations"><i class="fas fa-language" aria-hidden=true></i>
Translations:
<a href=https://www.pseudoyu.com/zh/2024/08/06/deploy_web_statistics_system_using_goatcounter_and_zeabur/>ZH</a>, <a href=https://www.pseudoyu.com/de/2024/08/06/deploy_web_statistics_system_using_goatcounter_and_zeabur/>DE</a></p></div></div></div></div></div><main><div class="container content"><articl data-pagefind-body><h2 id=preface>Preface</h2><p>In my article &ldquo;<a href=https://www.pseudoyu.com/en/2024/06/29/what_changed_in_my_blog_2024/>What Changed in My Blog in 2024</a>&rdquo;, I introduced the blog system I built using Serverless platforms and some open-source projects. I also started this series of tutorials to document the entire process of setup and deployment.</p><p>This article focuses on the analytics system solution.</p><h2 id=analytics-system-solution>Analytics System Solution</h2><p>Compared to the blog itself and the commenting system, I hadn&rsquo;t paid much attention to an analytics system for a long time (<del>mainly because there weren&rsquo;t many readers back then</del>). I hadn&rsquo;t considered much about SEO or other promotional aspects. However, I gradually discovered that the data collected is not just a pretty chart to post on Twitter; it has great reference value for blog topic selection and content.</p><p>In fact, mainstream mature solutions can meet basic needs. Even the free Google Analytics is more than enough. However, during the development of my blog, I still went through several iterations for various reasons, and finally settled on GoatCounter as my solution.</p><h3 id=splitbee>splitbee</h3><p>Initially, I used a free tool called splitbee. It provided free basic analytics quota, had a nice interface, and supported complex user tracking, A/B testing, etc. But as I recall, it only retained data for half a year, and required an upgrade after exceeding 5000 page views per month, so I abandoned it later.</p><h3 id=cloudflare--google-search-console>Cloudflare + Google Search Console</h3><p><img src=https://image.pseudoyu.com/images/cloudflare_web_stats.png alt=cloudflare_web_stats></p><p>After abandoning splitbee, for a long time, I didn&rsquo;t integrate any additional analytics applications. Instead, I used Cloudflare&rsquo;s built-in site statistics. However, I found that it only tracked total network traffic, including a lot of ineffective data such as crawlers, and lacked details down to the path level.</p><p><img src=https://image.pseudoyu.com/images/google_search_console.png alt=google_search_console></p><p>Later, after learning about the concept of SEO, I added <a href=https://search.google.com/search-console/about>Google Search Console</a> as another analytics dimension. This is currently the data I find most meaningful for my blog writing. It mainly presents the keywords users use to reach my blog site in search engines and the page paths they click through from search results to enter my blog.</p><p>As you can see, an article titled &ldquo;<a href=https://www.pseudoyu.com/en/category/tools/>Warp, iTerm2, or Alacritty? My Terminal Tinkering Notes</a>&rdquo; brought me many visitors, while topics about blog setup and smart contract development are also the first impressions of my blog for most natural users coming from search engines.</p><h3 id=umami--supabase--netlify>Umami + Supabase + Netlify</h3><p><img src=https://image.pseudoyu.com/images/yu_umami_record.png alt=yu_umami_record></p><p>However, the above two methods still only show overall website data. To precisely track the performance of a specific article over a period or real-time access data after an article is published, an analytics system is still needed. After reading Reorx&rsquo;s article &ldquo;<a href=https://reorx.com/blog/deploy-umami-for-personal-website/>Deploy umami to collect personal website statistics | Reorx&rsquo;s Forge</a>&rdquo;, I chose to use umami, an open-source, easily self-deployable analytics system. It has a clean interface, user-friendly features, and is easy to integrate into one&rsquo;s own blog system.</p><p>I used it for a year and a half without any problems. However, possibly because I started using it quite early, during a major version update, there was an incompatible field update in the database migration script. I found it a bit hard to understand why such a level of open-source project would have this kind of issue. I also saw many other users with the same concerns in the issues, but ultimately no good solution was provided.</p><p>But the biggest problem was that an analytics system relied on two platforms, which was too heavy in terms of deployment and maintenance. When either the database or Netlify encountered problems or needed migration, it would bring many additional costs. So when I updated my blog&rsquo;s commenting system recently, I thought I might as well switch to the lighter GoatCounter.</p><h3 id=goatcounter--zeabur>GoatCounter + Zeabur</h3><p><img src=https://image.pseudoyu.com/images/goatcounter_stats.png alt=goatcounter_stats></p><p>I stumbled upon this niche analytics system while checking Reorx&rsquo;s blog code updates. I was immediately attracted by its Retro Internet style. It has almost no superfluous buttons, yet the functionality is very complete. Moreover, it uses a go single binary file + sqlite single file database architecture, which is lightweight and easy to deploy. So I decided to migrate.</p><p>Actually, my own GoatCounter is deployed on <a href=https://fly.io/>fly.io</a>, but I&rsquo;ve already explained the operation instructions for fly in great detail in my previous article about Remark42. I didn&rsquo;t want to repeat too much. Coincidentally, I&rsquo;ve been heavily using <a href="https://zeabur.com?referralCode=pseudoyu">Zeabur</a>, a Serverless platform, recently. So this article will use <a href="https://zeabur.com?referralCode=pseudoyu">Zeabur</a> as an example, though the method is equally applicable to other similar platforms.</p><p>I&rsquo;ve also provided configuration files for fly.io deployment and docker-compose deployment on VPS after the Zeabur deployment solution for reference.</p><h2 id=goatcounter-deployment-instructions>GoatCounter Deployment Instructions</h2><p>GoatCounter&rsquo;s code itself is open-source - &ldquo;<a href=https://github.com/arp242/goatcounter>GitHub - arp242/goatcounter</a>&rdquo;, with clear and easy-to-read documentation. You can configure it according to your actual needs. The GoatCounter + Zeabur solution only involves a single service, with the database using sqlite mounted in a volume, so the deployment is very simple.</p><h3 id=deploying-with-zeabur>Deploying with Zeabur</h3><p><a href="https://zeabur.com?referralCode=pseudoyu">Zeabur</a> requires a Developer Plan for container application deployment, which costs $5/month. However, for image services like this, the overall usage and cost are relatively low, and the monthly quota is sufficient to deploy many services. You can choose according to your needs. The overall deployment process is much simpler compared to fly.io. All operations can be completed using the web interface, without the need to install additional command-line tools.</p><h4 id=register-on-zeabur>Register on zeabur</h4><p><img src=https://image.pseudoyu.com/images/zeabur_login.png alt=zeabur_login></p><p>Visit the <a href="https://zeabur.com?referralCode=pseudoyu">Zeabur</a> official website and click on the top right corner to log in with your GitHub account authorization.</p><h4 id=create-a-new-project>Create a New Project</h4><p><img src=https://image.pseudoyu.com/images/zeabur_new_project.png alt=zeabur_new_project></p><p>After entering the main interface, click the <code>Create Project</code> button in the top right corner.</p><p><img src=https://image.pseudoyu.com/images/zeabur_hk_region.png alt=zeabur_hk_region></p><p>I chose the AWS data center in Hong Kong. Different data centers have some differences in access speed, performance, and price. You can choose according to your needs.</p><h4 id=configure-image-deployment>Configure Image Deployment</h4><p><img src=https://image.pseudoyu.com/images/zeabur_build.png alt=zeabur_build></p><p>In the next step, choose to deploy using a Docker container image.</p><p><img src=https://image.pseudoyu.com/images/zeabur_docker_custom_config.png alt=zeabur_docker_custom_config></p><p>Since we&rsquo;re using a self-built image and there&rsquo;s no official GoatCounter template, we click to choose custom.</p><p><img src=https://image.pseudoyu.com/images/zeabur_prebuilt_edit_toml.png alt=zeabur_prebuilt_edit_toml></p><p>At this step, you can fill in various configuration items on the interface yourself, but perhaps because I&rsquo;m used to fly.io&rsquo;s file configuration mode, I chose to <code>Edit TOML file</code> in the bottom left corner. You can also directly copy my configuration file and modify it.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=nx>name</span> <span class=p>=</span> <span class=s2>&#34;yu-goatcounter&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>source</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>image</span> <span class=p>=</span> <span class=s2>&#34;pseudoyu/goatcounter&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=nx>ports</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=nx>id</span> <span class=p>=</span> <span class=s2>&#34;web&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>port</span> <span class=p>=</span> <span class=mi>8080</span>
</span></span><span class=line><span class=cl><span class=nx>type</span> <span class=p>=</span> <span class=s2>&#34;HTTP&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[[</span><span class=nx>volumes</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=nx>id</span> <span class=p>=</span> <span class=s2>&#34;goatcounter-data&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>dir</span> <span class=p>=</span> <span class=s2>&#34;/data&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>env</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>PORT</span> <span class=p>=</span> <span class=p>{</span> <span class=nx>default</span> <span class=p>=</span> <span class=s2>&#34;8080&#34;</span> <span class=p>,</span> <span class=nx>expose</span> <span class=p>=</span> <span class=kc>true</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>GOATCOUNTER_DB</span> <span class=p>=</span> <span class=p>{</span> <span class=nx>default</span> <span class=p>=</span> <span class=s2>&#34;sqlite3://data/goatcounter.sqlite3&#34;</span> <span class=p>,</span> <span class=nx>expose</span> <span class=p>=</span> <span class=kc>true</span> <span class=p>}</span>
</span></span></code></pre></div><p><img src=https://image.pseudoyu.com/images/zeabur_prebuilt_goatcounter_toml.png alt=zeabur_prebuilt_goatcounter_toml></p><p>After configuration, click the deploy button in the bottom right corner.</p><h4 id=deployment-complete>Deployment Complete</h4><p><img src=https://image.pseudoyu.com/images/yu-goatcounter_project.png alt=yu-goatcounter_project></p><p>After clicking deploy, wait for a moment, and there will be a generated default project name. You can modify it to a more readable name, such as <code>yu-goatcounter</code>, in the settings in the upper left corner.</p><h4 id=configure-custom-domain>Configure Custom Domain</h4><p><img src=https://image.pseudoyu.com/images/zeabur_create_domain.png alt=zeabur_create_domain></p><p>After the service is deployed, we need to bind a domain to access the website through the public network. Zeabur provides free second-level domains like <code>xx.zeabur.app</code>, or you can bind your own domain.</p><p><img src=https://image.pseudoyu.com/images/zeabur_custom_domain.png alt=zeabur_custom_domain></p><p>The generated domain can be used directly without any other configuration, such as <code>goatcounter.zeabur.app</code>. If you&rsquo;re using a custom domain, you need to add a CNAME record in your domain management backend, pointing to a data center address in the format of <code>xxx.cname.zeabur-dns.com</code>.</p><p><img src=https://image.pseudoyu.com/images/cloudflare_goatcounter_config.png alt=cloudflare_goatcounter_config></p><p>For example, my domain is hosted on Cloudflare, and the added CNAME record is as shown in the above image. I asked the official support, and they said if you choose the AWS HK data center, you can use Cloudflare&rsquo;s proxy, which theoretically would be faster. You can configure according to your needs.</p><p>Additionally, if you choose the Huawei Cloud data center, you need to file for domain registration and add an extra TXT record. You can follow the prompts to operate.</p><p><img src=https://image.pseudoyu.com/images/zeabur_custom_domain_success.png alt=zeabur_custom_domain_success></p><p>A green display indicates successful configuration. At this point, our GoatCounter service deployment is complete.</p><h4 id=data-backup>Data Backup</h4><p>We had this section in our configuration:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=p>[[</span><span class=nx>volumes</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=nx>id</span> <span class=p>=</span> <span class=s2>&#34;goatcounter-data&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>dir</span> <span class=p>=</span> <span class=s2>&#34;/data&#34;</span>
</span></span></code></pre></div><p>This function mounts the <code>/data</code> directory inside the container (where our sqlite database is located) to a storage volume with the id <code>goatcounter-data</code>. If you don&rsquo;t mount a storage volume, data will be lost when the container restarts or redeploys.</p><p>Regarding this storage volume point, Zeabur&rsquo;s interface doesn&rsquo;t have a very intuitive display and management operation, to the extent that I always doubt whether my configuration is effective.</p><p><img src=https://image.pseudoyu.com/images/zeabur_add_goatcounter_backup.png alt=zeabur_add_goatcounter_backup></p><p>After researching for a while, I found that you can first pause the service in the settings, then add a new backup in the backup module above. After clicking download, you can see our backup file locally, with the directory hierarchy as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>data/
</span></span><span class=line><span class=cl>└── goatcounter-data
</span></span><span class=line><span class=cl>    └── goatcounter.sqlite3
</span></span></code></pre></div><p>This indicates that our data has been successfully persisted. I hope Zeabur can have a more intuitive display on the interface.</p><h3 id=deploying-with-flyio>Deploying with fly.io</h3><p>For a purely free solution, you can still refer to the article I mentioned &ldquo;<a href=https://www.pseudoyu.com/en/2024/07/22/free_commenting_system_using_remark42_and_flyio/>Build Your Free Blog Comment System from Scratch (Remark42 + fly.io)</a>&rdquo;. Only the <code>fly.toml</code> configuration part is different. I&rsquo;ve also provided the configuration file I use - &ldquo;<a href=https://github.com/pseudoyu/goatcounter-on-fly/blob/master/fly.toml>fly.toml</a>&rdquo; for reference.</p><h3 id=deploying-with-docker-and-docker-compose>Deploying with Docker and docker-compose</h3><p>Interestingly, because the author of goatcounter is very persistent and feels that containerizing such a single-file application would actually increase maintenance costs, no official image is provided. However, having an image is still convenient for deploying on your own VPS or serverless platform. So I used Github Actions to create a CI for building images and uploading to Docker Hub. You can use it if needed. The corresponding Dockerfile and Docker Compose file can also be referenced from this <a href=https://github.com/pseudoyu/goatcounter/commit/b98de9873ee331133a39b409fd4bb00cf55c8a05>Commit</a>, or you can directly use <code>pseudoyu/goatcounter</code> and the <code>docker-compose.yml</code> file.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;3&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>services</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>goatcounter</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>pseudoyu/goatcounter</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=m>8080</span><span class=p>:</span><span class=m>8080</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>PORT=8080</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>GOATCOUNTER_DB=sqlite3://data/goatcounter.sqlite3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>./data:/data</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class=l>unless-stopped</span><span class=w>
</span></span></span></code></pre></div><h2 id=goatcounter-configuration-instructions>GoatCounter Configuration Instructions</h2><p>In the above section, we completed the deployment of the GoatCounter service. Now we can access our analytics system service through the generated/custom domain. For example, I access it through <code>https://goatcounter.pseudoyu.com</code>.</p><p><img src=https://image.pseudoyu.com/images/goatcounter_create_user.png alt=goatcounter_create_user></p><p>The first login requires creating a user. Fill in the email and password, then click <code>Create</code>.</p><p><img src=https://image.pseudoyu.com/images/goatcounter_dashboard_success.png alt=goatcounter_dashboard_success></p><p>After successful login, there&rsquo;s no data yet, and a script will be prompted, which we&rsquo;ll use in our blog configuration later.</p><h2 id=configuring-goatcounter-for-the-blog>Configuring GoatCounter for the Blog</h2><p>Following the above, we&rsquo;ve completed the deployment and basic configuration of the GoatCounter service. Now we need to add the analytics component to our blog posts. Taking my Hugo blog as an example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>data-goatcounter</span><span class=o>=</span><span class=s>&#34;https://goatcounter.pseudoyu.com/count&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>async</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;//goatcounter.pseudoyu.com/count.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></div><p><img src=https://image.pseudoyu.com/images/add_goatcounter_script_in_hugo.png alt=add_goatcounter_script_in_hugo></p><p>Add the above code to the <code>head</code> of my Hugo theme. For example, in my Hugo theme, it&rsquo;s in the <code>layouts/partials/head.html</code> file. Different themes or different SSG frameworks might have slightly different locations, but they&rsquo;re broadly similar.</p><p>One thing to note is that goatcounter ignores requests from <code>localhost</code> to avoid too much dirty data during local preview. Therefore, you won&rsquo;t see data when debugging locally; you need to deploy the webpage to see access data.</p><p><img src=https://image.pseudoyu.com/images/final_display_of_goatcounter.png alt=final_display_of_goatcounter></p><p>The effect after collecting data is roughly as shown in the above image. You can also set some configuration items, add new pages, view detailed data, etc., in the GoatCounter interface. This includes displaying the visit count for each page. You can explore according to the documentation.</p><h2 id=conclusion>Conclusion</h2><p>At this point, our blog analytics system is set up! This article is part of my blog setup and deployment tutorial series. The main body of the blog theme is complete, with only some details like in-blog search remaining for experience optimization. I hope this can be of reference to everyone.</p></articl><h2>Related Posts</h2><dl class=row></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl><dt class=col-md-3>2024-07-22</dt><dd class=col-md-9><a href=/en/2024/07/22/free_commenting_system_using_remark42_and_flyio/>Build Your Free Blog Comment System from Scratch (Remark42 + fly.io)</a></dd></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl><dt class=col-md-3>2024-07-02</dt><dd class=col-md-9><a href=/en/2024/07/02/protect_your_image_using_webp_and_cloudflare_waf/>Adding Privacy and Copyright Protection to Your Image Hosting with WebP Cloud and Cloudflare WAF</a></dd></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl><dt class=col-md-3>2024-06-30</dt><dd class=col-md-9><a href=/en/2024/06/30/free_image_hosting_system_using_r2_webp_cloud_and_picgo/>Build Your Free Image Hosting System from Scratch (Cloudflare R2 + WebP Cloud + PicGo)</a></dd></dl></dl></dl></dl></dl><dt class=col-md-3>2024-06-29</dt><dd class=col-md-9><a href=/en/2024/06/29/what_changed_in_my_blog_2024/>In 2024, What Changes Have Come to My Blog</a></dd></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl><dt class=col-md-3>2024-03-24</dt><dd class=col-md-9><a href=/en/2024/03/24/weekly_review_20240324/>Weekly Review #55 - Oil Painting Experience, Blog System Upgrade, and Thoughts on Self-Hosting</a></dd></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl><div class=author-card><div class=underline></div><div class=author-box><div class=author-image><a href=https://www.pseudoyu.com><img src=/images/author.webp alt=pseudoyu></a></div><div class=author-content><p class=author-title>Author</p><p class=author-name>pseudoyu</p><p class=author-desc>Backend & Smart Contract Developer, MSc Graduate in ECIC(Electronic Commerce and Internet Computing) @ The University of Hong Kong (HKU). Love to learn and build things. <a href=https://github.com/pseudoyu>Follow me on GitHub</a></p></div></div></div><div align=center><div class=comment-underline></div></div><br><div class=comments><div class=title><span>Comments</span>
<span class=counter><span class=remark42__counter data-url=https://www.pseudoyu.com/en/2024/08/06/deploy_web_statistics_system_using_goatcounter_and_zeabur/></span></span></div><div id=remark42></div></div><script>var remark_config={host:"https://comments.pseudoyu.com",site_id:"pseudoyu.com",components:["embed","counter"],max_shown_comments:20,simple_view:!0,theme:"light"}</script><script>(function(){const t=window.REMARK42;if(t)t.destroy(),t.createInstance(remark_config);else for(const t of remark_config.components){var n=document,e=n.createElement("script");e.src=`${remark_config.host}/web/${t}.mjs`,e.type="module",e.defer=!0,e.setAttribute("data-no-instant",""),n.head.appendChild(e)}})()</script></div></main><div class="footer gradient-2"><div class="container footer-container"><div class=row><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>Sitemap</div><ul class=list-unstyled><li><a href=https://www.pseudoyu.com/en/tags/>Tags</a></li><li><a href=https://www.pseudoyu.com/en/categories/>Categories</a></li><li><a rel=alternate type=application/rss+xml href=https://www.pseudoyu.com/en/index.xml><i class="fas fa-rss-square"></i> RSS Feed</a></li></ul></div><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>Social</div><ul class=list-unstyled><li><a href=https://t.me/pseudoyulife rel=noopener target=_blank>Telegram</a></li><li><a href=https://twitter.com/pseudo_yu rel=noopener target=_blank>Twitter</a></li><li><a href=https://www.instagram.com/pseudo.yu/ rel=noopener target=_blank>Instagram</a></li><li><a href=https://space.bilibili.com/5374948/ rel=noopener target=_blank>BiliBili</a></li></ul></div><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>Links</div><ul class=list-unstyled><li><a href=https://github.com/pseudoyu rel=noopener target=_blank>Yu's GitHub</a></li></ul></div><div class="col-xs-12 col-sm-3 col-md-3 col-lg-3"><p class="pull-right text-right"><small><em><a href="https://stats.pseudoyu.com?access-token=2m1u5i2k413q0733h2a3332w3m1t6r634g1m6n" rel=noopener target=_blank>Yu's blog analytics</a></em></small><br><small><em>Powered by <a href=https://gohugo.io rel=noopener target=_blank>Hugo</a> - <a href=https://github.com/shaform/hugo-theme-den rel=noopener target=_blank>den</a></em></small><br><small><em><a href=https://www.hku.hk rel=noopener target=_blank>The University of Hong Kong</a> - <a href=https://www.cs.hku.hk rel=noopener target=_blank>CS</a></em></small><br><small>&copy;
Yu Zhang
2020 -
2024</small></p></div><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" id=scroll-top class=scroll-top accesskey=g><span class=arrow-icon></span></a>
<script>var mybutton=document.getElementById("scroll-top");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></div></div></div><script src=https://code.jquery.com/jquery-3.3.1.slim.min.js integrity=sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script></body></html>