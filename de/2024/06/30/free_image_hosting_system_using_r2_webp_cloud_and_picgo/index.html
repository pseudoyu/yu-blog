<!doctype html><html lang=de itemscope itemtype=http://schema.org/WebPage><head><meta name=generator content="Hugo 0.105.0"><meta charset=utf-8><title>Baue dein kostenloses Bildhosting-System von Grund auf (Cloudflare R2 + WebP Cloud + PicGo) · Pseudoyu</title><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><script data-goatcounter=https://stats.pseudoyu.com/count async src=//stats.pseudoyu.com/count.js></script><meta name=description content="Vorwort Im Artikel &amp;ldquo;Was sich 2024 in meinem Blog geändert hat&amp;rdquo; habe ich das Blogsystem vorgestellt, das ich mit Serverless-Plattformen und einigen Open-Source-Projekten aufgebaut habe, und auch diese Tutorialreihe begonnen, um den gesamten Aufbau- und Bereitstellungsprozess zu dokumentieren.
Dieser Artikel befasst sich mit der Lösung für das Bildhosting-System.
[2024-07-02 Update]
Ich habe ein neues Tutorial geschrieben, das Datenschutz und Urheberrechtsschutz für das Bildhosting-System implementiert, was als zusätzliches Kapitel betrachtet werden kann."><meta name=keywords content="hugo,blockchain,programming"><link rel=canonical href=https://www.pseudoyu.com/de/2024/06/30/free_image_hosting_system_using_r2_webp_cloud_and_picgo/><link rel=alternate href=https://www.pseudoyu.com/zh/2024/06/30/free_image_hosting_system_using_r2_webp_cloud_and_picgo/ hreflang=zh><link rel=alternate href=https://www.pseudoyu.com/en/2024/06/30/free_image_hosting_system_using_r2_webp_cloud_and_picgo/ hreflang=en><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css integrity=sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.2.0/css/all.css integrity=sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ crossorigin=anonymous><link rel=stylesheet href=https://www.pseudoyu.com/css/den.css><link rel=stylesheet href=https://www.pseudoyu.com/css/custom.css><meta property="og:title" content="Baue dein kostenloses Bildhosting-System von Grund auf (Cloudflare R2 + WebP Cloud + PicGo)"><meta property="og:description" content="Vorwort Im Artikel &ldquo;Was sich 2024 in meinem Blog geändert hat&rdquo; habe ich das Blogsystem vorgestellt, das ich mit Serverless-Plattformen und einigen Open-Source-Projekten aufgebaut habe, und auch diese Tutorialreihe begonnen, um den gesamten Aufbau- und Bereitstellungsprozess zu dokumentieren.
Dieser Artikel befasst sich mit der Lösung für das Bildhosting-System.
[2024-07-02 Update]
Ich habe ein neues Tutorial geschrieben, das Datenschutz und Urheberrechtsschutz für das Bildhosting-System implementiert, was als zusätzliches Kapitel betrachtet werden kann."><meta property="og:type" content="article"><meta property="og:url" content="https://www.pseudoyu.com/de/2024/06/30/free_image_hosting_system_using_r2_webp_cloud_and_picgo/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-06-30T14:12:47+08:00"><meta property="article:modified_time" content="2024-06-30T14:12:47+08:00"><meta itemprop=name content="Baue dein kostenloses Bildhosting-System von Grund auf (Cloudflare R2 + WebP Cloud + PicGo)"><meta itemprop=description content="Vorwort Im Artikel &ldquo;Was sich 2024 in meinem Blog geändert hat&rdquo; habe ich das Blogsystem vorgestellt, das ich mit Serverless-Plattformen und einigen Open-Source-Projekten aufgebaut habe, und auch diese Tutorialreihe begonnen, um den gesamten Aufbau- und Bereitstellungsprozess zu dokumentieren.
Dieser Artikel befasst sich mit der Lösung für das Bildhosting-System.
[2024-07-02 Update]
Ich habe ein neues Tutorial geschrieben, das Datenschutz und Urheberrechtsschutz für das Bildhosting-System implementiert, was als zusätzliches Kapitel betrachtet werden kann."><meta itemprop=datePublished content="2024-06-30T14:12:47+08:00"><meta itemprop=dateModified content="2024-06-30T14:12:47+08:00"><meta itemprop=wordCount content="2686"><meta itemprop=keywords content="image-hosting,cloudflare,r2,webp cloud,serverless,s3,blog,picgo,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Baue dein kostenloses Bildhosting-System von Grund auf (Cloudflare R2 + WebP Cloud + PicGo)"><meta name=twitter:description content="Vorwort Im Artikel &ldquo;Was sich 2024 in meinem Blog geändert hat&rdquo; habe ich das Blogsystem vorgestellt, das ich mit Serverless-Plattformen und einigen Open-Source-Projekten aufgebaut habe, und auch diese Tutorialreihe begonnen, um den gesamten Aufbau- und Bereitstellungsprozess zu dokumentieren.
Dieser Artikel befasst sich mit der Lösung für das Bildhosting-System.
[2024-07-02 Update]
Ich habe ein neues Tutorial geschrieben, das Datenschutz und Urheberrechtsschutz für das Bildhosting-System implementiert, was als zusätzliches Kapitel betrachtet werden kann."></head><body><div class=header-container style=background:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2)),url(https://www.pseudoyu.com/images/background.png);background-position:50%;background-size:cover><div class=container><nav class="header-nav navbar navbar-expand-md navbar-dark light-dark"><div class="header-logo navbar-brand"><a class=float-left href=https://www.pseudoyu.com/de/><img class="mr20 header-logo-image" src=https://www.pseudoyu.com/images/icon.png alt=logo>
Pseudoyu</a></div><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarNav aria-controls=navbarNav aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="nav-menu collapse navbar-collapse" id=navbarNav><ul class=navbar-nav><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/de/category/ideas/>Ideen</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/de/category/tools/>Tools</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/de/category/develop/>Code</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/de/links/>Links</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/de/search/>Suche</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/de/about/>Über</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/zh/><i class="fas fa-globe"></i> 简</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/en/><i class="fas fa-globe"></i> EN</a></li></ul></div></nav></div><div class="container header-wrapper"><div class=row><div class=col-lg-12><div class=header-content><h1 class=header-title>Baue dein kostenloses Bildhosting-System von Grund auf (Cloudflare R2 + WebP Cloud + PicGo)</h1><p class=header-date>Autor:
pseudoyu
| <span>2686 Wörter, 13 Minuten</span>
| <span class=remark42__counter data-url=https://www.pseudoyu.com/de/2024/06/30/free_image_hosting_system_using_r2_webp_cloud_and_picgo/></span> Kommentare
| 2024-06-30
| Kategorie:
<a href=https://www.pseudoyu.com/de/category/tools/>Tools</a></p><div class=header-underline></div><div class=clearfix></div><p class="float-right header-tags"><i class="fas fa-tags" aria-hidden=true></i>
<a href=https://www.pseudoyu.com/de/tag/blog/>blog</a>,
<a href=https://www.pseudoyu.com/de/tag/cloudflare/>cloudflare</a>,
<a href=https://www.pseudoyu.com/de/tag/image-hosting/>image-hosting</a>,
<a href=https://www.pseudoyu.com/de/tag/picgo/>picgo</a>,
<a href=https://www.pseudoyu.com/de/tag/r2/>r2</a>,
<a href=https://www.pseudoyu.com/de/tag/s3/>s3</a>,
<a href=https://www.pseudoyu.com/de/tag/serverless/>serverless</a>,
<a href=https://www.pseudoyu.com/de/tag/webp-cloud/>webp cloud</a></p><div class=clearfix></div><p class="float-right translations"><i class="fas fa-language" aria-hidden=true></i>
Übersetzungen:
<a href=https://www.pseudoyu.com/zh/2024/06/30/free_image_hosting_system_using_r2_webp_cloud_and_picgo/>ZH</a>, <a href=https://www.pseudoyu.com/en/2024/06/30/free_image_hosting_system_using_r2_webp_cloud_and_picgo/>EN</a></p></div></div></div></div></div><main><div class="container content"><articl data-pagefind-body><h2 id=vorwort>Vorwort</h2><p>Im Artikel &ldquo;Was sich 2024 in meinem Blog geändert hat&rdquo; habe ich das Blogsystem vorgestellt, das ich mit Serverless-Plattformen und einigen Open-Source-Projekten aufgebaut habe, und auch diese Tutorialreihe begonnen, um den gesamten Aufbau- und Bereitstellungsprozess zu dokumentieren.</p><p>Dieser Artikel befasst sich mit der Lösung für das Bildhosting-System.</p><p><strong>[2024-07-02 Update]</strong></p><p>Ich habe ein neues Tutorial geschrieben, das Datenschutz und Urheberrechtsschutz für das Bildhosting-System implementiert, was als zusätzliches Kapitel betrachtet werden kann.</p><ul><li><a href=https://www.pseudoyu.com/de/2024/07/02/protect_your_image_using_webp_and_cloudflare_waf/>Füge Datenschutz und Urheberrechtsschutz zu deinem Bildhosting mit WebP Cloud und Cloudflare WAF hinzu</a></li></ul><h2 id=iterationen-der-bildhosting-lösung>Iterationen der Bildhosting-Lösung</h2><p>Zu Beginn meines Blog-Aufbaus wurden aufgrund des begrenzten Inhalts und weniger Illustrationen die meisten Bilder direkt im <code>static</code>-Verzeichnis meines Hugo-Blog-Repositories platziert. Ich spürte keine Unannehmlichkeiten, bis ich auf mehreren Plattformen veröffentlichen musste. Nach dem Kopieren der Markdown-Quelldateien des Blogs konnten alle Bilder nicht angezeigt werden, da sie relative Pfade zum Blog verwendeten. Ich musste die Bilder einzeln neu hochladen, was sehr umständlich war.</p><p>Damals begann ich, das Konzept des Bildhostings zu verstehen - das Hochladen von Bildern auf einen dedizierten Speicherdienst und die Verwendung über öffentliche Links. Dies ermöglicht nicht nur eine einheitliche Verwaltung, sondern reduziert auch effektiv die Größe der Blog-Repository-Dateien und verbessert die Ladegeschwindigkeit der Website.</p><h3 id=github--jsdelivr-cdn--picgo>GitHub + jsDelivr CDN + PicGo</h3><p>Zunächst erstellte ich ein neues GitHub-Repository &ldquo;GitHub - image-hosting&rdquo;, lud direkt über PicGo in das Repository hoch und änderte den von PicGo zurückgegebenen Bildpfad in den CDN-beschleunigten Link von <a href=https://www.jsdelivr.com/>jsDelivr</a>. Es war recht praktisch und hatte sogar Versionskontrolle.</p><p>Doch die guten Zeiten währten nicht lange. jsDelivr litt unter DNS-Verschmutzung und wurde in Festland-China blockiert, was dazu führte, dass meine Blog-Bilder für einen langen Zeitraum völlig unladbar waren. Dies ließ mich einige Bedenken über diesen rein CDN-abhängigen Ansatz haben. Zudem basiert das Hosting von Bildern auf GitHub auf Code-Repositories, und das Hochladen von Bildern hängt von Code-Commits ab, was leicht die Commit-Historie verschmutzen kann. Es ist letztendlich eine Art Missbrauch, und wenn es Probleme mit dem Konto/Repository-Zugriff gibt, ist es leicht, alle Bilder zu verlieren. Also begann ich, nach anderen Lösungen zu suchen.</p><h3 id=aliyun-oss--picgo>Aliyun OSS + PicGo</h3><p>Die zweite Option, die mir in den Sinn kam, war der Objektspeicher, der von Cloud-Service-Anbietern bereitgestellt wird. Dienste wie Amazon S3 und Aliyun OSS bieten nicht nur öffentlich zugängliche Links, sondern auch Vorteile wie Zugriffskontrolle, Datensicherung und Skalierbarkeit. Sie bieten eine optimale Lösung für die Speicherung und Verwaltung von Dateidaten zu relativ geringen Kosten.</p><p>Da ich den Zugriff für Benutzer in Festland-China optimieren wollte, entschied ich mich letztendlich für Aliyun OSS. Die Konfiguration war nicht kompliziert, und ich verwendete weiterhin PicGo zum Hochladen und Konvertieren in Aliyun OSS-Links. Es gab eine spürbare Verbesserung der Zugriffsgeschwindigkeit.</p><p><img src=https://image.pseudoyu.com/images/aliyunoss_invoice.jpeg alt=aliyunoss_invoice></p><p>Aufgrund des verbrauchsabhängigen Abrechnungsmodells waren die kontinuierlich steigenden Kosten jedoch eine Überlegung für einen nicht-kommerziellen persönlichen Blog. Anfang 2023 gab es eine Zeit, in der der Traffic meines Blogs recht hoch war, und die monatlichen Rechnungen stiegen weiter an. Zudem musste ich, wenn ich eine benutzerdefinierte Zugriffsdomain für Aliyun OSS verwenden wollte, den Anmeldeprozess durchlaufen. Da meine Domain über Cloudflare gehostet wird, zog ich eine Anmeldung nicht in Betracht. Also überlegte ich nach ein paar Monaten Nutzung, die Bildhosting-Lösung erneut zu ändern.</p><h3 id=chevereto--picgo>Chevereto + PicGo</h3><p>Nach einiger Recherche implementierte ich die kostenlose selbstgehostete Version von <a href=https://github.com/rodber/chevereto-free>Chevereto</a> mit einem Docker-Image auf meinem Bandwagon-Server (mit guter Konnektivität, CN2GIA DC6 Rechenzentrum) und montierte die Bilder als Docker-Volume auf dem Host.</p><p>Ehrlich gesagt ist der Interfacestil von Chevereto etwas veraltet und verwendet immer noch den alten PHP-Dienst. Die kostenlose Version wurde seit langem nicht mehr gewartet oder aktualisiert, aber sie ist umfassend in der Funktionalität. Man kann immer noch PicGo verwenden, um mit Cheveretos API für Bildupload und andere Operationen zu interagieren, und die Stabilität ist gut. Also nutzte ich es anderthalb Jahre lang.</p><p>Aber ich war zu sorglos in Bezug auf die Stabilität selbstgehosteter Dienste und die Kostbarkeit von Daten. Vor einigen Tagen fiel der Server plötzlich aus, mit einem Kernelfehler, der einen Neustart verhinderte. Der Ausfall des Dienstes war das eine, aber ich konnte meine Bilddaten aus den letzten eineinhalb Jahren nicht exportieren. Ich kontaktierte den technischen Support über ein Ticket, aber sie antworteten nur zweimal an einem Tag, einmal mit der Aufforderung neu zu starten und einmal mit dem Vorschlag, einen Netzwerkadministrator zur Untersuchung anzuheuern.</p><p>Ich musste mich selbst helfen. Nach der Suche nach verschiedenen Lösungen online und einem Tag des Kämpfens gelang es mir schließlich, das Problem zu lösen. Aber diese Lektion gab mir ein ganz neues Verständnis für die Sicherung und Stabilität selbstgehosteter Dienste mit wichtigen Daten. Zusätzlich stellte ich fest, als ich neu implementieren wollte, dass die kostenlosen Versionsbilder offline genommen worden waren und nur noch eine jährlich bezahlte Lizenzversion übrig war. Also gab ich die ursprüngliche Lösung auf.</p><h3 id=cloudflare-r2--webp-cloud--picgo>Cloudflare R2 + WebP Cloud + PicGo</h3><p><img src=https://image.pseudoyu.com/images/cloudflare_r2_free_tier.png alt=cloudflare_r2_free_tier></p><p>Also wandte ich mich wieder dem Objektspeicher von Cloud-Service-Anbietern zu und entdeckte den R2-Objektspeicherdienst, der vom Cyber-Bodhisattva Cloudflare bereitgestellt wird. Der kostenlose Plan umfasst 10 GB Speicherkapazität pro Monat, was für den persönlichen Gebrauch völlig ausreicht. Die Dienste und Datensicherheit eines großen Unternehmens bieten auch Sicherheit.</p><p>Um den Benutzerzugriff zu optimieren, verwendete ich auch einen &ldquo;WebP Cloud&rdquo;-Dienst, um die Bilder von R2 zu proxyen und die Bildgröße auf Proxy-Ebene weiter zu reduzieren. Obwohl die Geschwindigkeit für inländische Benutzer sicherlich nicht mit dem Netzwerk von Aliyun OSS vergleichbar ist, ist dies unter den umfassenden Bedingungen der Anmeldefreiheit, Stabilität und Kostenlosigkeit die beste Lösung, die ich mir vorstellen konnte.</p><p>Auf der Computerseite ist es immer noch fast ein Ein-Klick-Upload über den PicGo-Client und generiert Markdown-Bildlinks, die direkt im Blog verwendet werden können. Einmal konfiguriert, ist es sehr einfach zu bedienen.</p><h2 id=anleitung-zur-einrichtung-des-bildhostings>Anleitung zur Einrichtung des Bildhostings</h2><p>Obwohl die Cloudflare R2 + WebP Cloud + PicGo-Lösung mehrere Komponenten und Plattformen umfasst, sind alle Operationen innerhalb des kostenlosen Plans. Dies ist die Lösung, für die ich mich letztendlich entschieden habe, und im Folgenden werde ich erläutern, wie man dieses kostenlose Bildhosting-System von Grund auf aufbaut.</p><h3 id=cloudflare-r2>Cloudflare R2</h3><p>R2 ist ein kostenloser Objektspeicherdienst, der von Cloudflare eingeführt wurde. Sie müssen ein kostenloses <a href=https://www.cloudflare.com/de-de/>Cloudflare-Konto</a> registrieren, um es zu nutzen. Nach der Registrierung und Anmeldung klicken Sie in der linken Seitenleiste auf R2, um auf den Dienst zuzugreifen. Es ist jedoch zu beachten, dass für die Aktivierung des R2-Dienstes eine Kreditkarte gebunden werden muss (große inländische und internationale Kreditkarten werden akzeptiert), aber es werden keine Gebühren erhoben. Es dient hauptsächlich zur Überprüfung der Benutzeridentität.</p><h4 id=erstellen-eines-bildhosting-buckets>Erstellen eines Bildhosting-Buckets</h4><p><img src=https://image.pseudoyu.com/images/cloudflare_r2_interview.png alt=cloudflare_r2_interview></p><p>Nach der Aktivierung des R2-Dienstes klicken Sie auf die Schaltfläche &ldquo;Bucket erstellen&rdquo; in der oberen rechten Ecke, um einen neuen Bucket zu erstellen.</p><p><img src=https://image.pseudoyu.com/images/cloudflare_r2_create_bucket.png alt=cloudflare_r2_create_bucket></p><p>Auf der Erstellungskonfigurationsseite müssen Sie den Bucket-Namen eingeben. Es wird empfohlen, etwas Identifizierbares zu verwenden, da es später bei der Konfiguration von Uploads verwendet wird.</p><p>Wählen Sie für den Standort &ldquo;Automatisch&rdquo;, aber Sie können zusätzlich einen Standorthinweis konfigurieren. Da ich später den &ldquo;WebP Cloud&rdquo;-Dienst des US-West-Rechenzentrums für die Bildproxyoptimierung verwenden werde, habe ich hier &ldquo;North America West (WNAM)&rdquo; gewählt. Sie können basierend auf Ihren Bedürfnissen andere Regionen wählen, aber Cloudflare garantiert nicht, dass Sie definitiv der angegebenen Region zugewiesen werden.</p><p><img src=https://image.pseudoyu.com/images/cloudflare_r2_create_done.png alt=cloudflare_r2_create_done></p><p>Klicken Sie auf die Schaltfläche &ldquo;Bucket erstellen&rdquo;, um die Erstellung abzuschließen. An diesem Punkt können wir bereits Dateien in unseren &ldquo;yu-r2-test&rdquo; Bucket hochladen. Sie können wählen, Dateien oder Ordner direkt auf der Webseite hochzuladen.</p><p>Sie können auch die S3 API für das Hochladen verwenden. Wir werden uns später auf diese Methode für das Hochladen mit dem PicGo-Client verlassen, aber es erfordert einige zusätzliche Konfigurationen. Klicken Sie auf die Option &ldquo;Einstellungen&rdquo; in der Navigationsleiste, um zu konfigurieren.</p><p><img src=https://image.pseudoyu.com/images/cloudflare_r2_config.png alt=cloudflare_r2_config></p><p>Zunächst müssen wir die &ldquo;R2.dev Subdomain&rdquo; aktivieren. Dies ist für die öffentliche Adresse erforderlich, die später für den Zugriff auf die Bilder benötigt wird. Klicken Sie auf &ldquo;Zugriff erlauben&rdquo; und geben Sie &ldquo;allow&rdquo; ein, wie aufgefordert, um es zu aktivieren.</p><p><img src=https://image.pseudoyu.com/images/r2_dev_domain_allow.png alt=r2_dev_domain_allow></p><p>Nach Abschluss wird eine öffentliche Webadresse angezeigt, die mit <code>r2.dev</code> endet. Dies ist die Adresse, die wir später für den Zugriff auf Bilder verwenden werden.</p><h4 id=benutzerdefinierte-bildhosting-domain-optional>Benutzerdefinierte Bildhosting-Domain (Optional)</h4><p>Die zugewiesene Adresse ist jedoch ziemlich lang und nicht leicht zu merken. Wir können eine &ldquo;Benutzerdefinierte Domain&rdquo; verwenden, um unseren exklusiven Domainnamen zu binden. Klicken Sie auf die Schaltfläche &ldquo;Domain verbinden&rdquo;.</p><p><img src=https://image.pseudoyu.com/images/r2_custom_domain_setup.png alt=r2_custom_domain_setup></p><p>Geben Sie den Domainnamen ein, den Sie binden möchten, z.B. <code>yu-r2-test.pseudoyu.com</code>, und klicken Sie auf Weiter.</p><p><img src=https://image.pseudoyu.com/images/cloudflare_r2_custom_domain.png alt=cloudflare_r2_custom_domain></p><p><img src=https://image.pseudoyu.com/images/r2_custom_domain_dns_wait.png alt=r2_custom_domain_dns_wait></p><p>Verbinden Sie die Domain und warten Sie, bis die DNS-Auflösung wirksam wird.</p><p><img src=https://image.pseudoyu.com/images/r2_bucket_status.png alt=r2_bucket_status></p><p>Nach Abschluss sollte der Bucket-Status &ldquo;Erlaubt&rdquo; für &ldquo;Öffentlicher URL-Zugriff&rdquo; anzeigen, und &ldquo;Domain&rdquo; sollte den benutzerdefinierten Domainnamen anzeigen, den wir gerade eingerichtet haben, was auf eine erfolgreiche Konfiguration hinweist.</p><h4 id=konfigurieren-der-bucket-zugriffs-api>Konfigurieren der Bucket-Zugriffs-API</h4><p><img src=https://image.pseudoyu.com/images/yu_bucket_preview.png alt=yu_bucket_preview></p><p>Wenn wir die obige Konfiguration abgeschlossen haben, können wir zur Bucket &ldquo;Objekte&rdquo;-Oberfläche zurückkehren, ein Beispielbild hochladen und auf die Details klicken, um die Zugriffsadresse für dieses Bild anzuzeigen. An diesem Punkt haben wir einen zugänglichen Bildhosting-Dienst.</p><p>Das manuelle Hochladen von Bildern über die Cloudflare-Seite jedes Mal ist offensichtlich nicht praktisch genug. R2 bietet eine S3-kompatible API, die eine einfache Verwendung einiger Client/Kommandozeilen-Tools für Operationen wie Hochladen und Löschen ermöglicht.</p><p><img src=https://image.pseudoyu.com/images/create_r2_api_token.png alt=create_r2_api_token></p><p><img src=https://image.pseudoyu.com/images/create_r2_api_key.png alt=create_r2_api_key></p><p>Kehren Sie zur R2-Hauptseite zurück, klicken Sie auf &ldquo;R2 API-Token verwalten&rdquo; in der oberen rechten Ecke, dann klicken Sie nach dem Eintreten auf &ldquo;API-Token erstellen&rdquo;.</p><p><img src=https://image.pseudoyu.com/images/r2_apikey_conifg.png alt=r2_apikey_conifg></p><p>Geben Sie einen Token-Namen ein, wählen Sie &ldquo;Objekt lesen und schreiben&rdquo; für &ldquo;Berechtigungen&rdquo; und weisen Sie diese API dem zuvor erstellten Bucket zu. Dies minimiert die Berechtigungen und gewährleistet die Datensicherheit. Andere Optionen können als Standard belassen werden.</p><p><img src=https://image.pseudoyu.com/images/api_key_config_details.png alt=api_key_config_details></p><p>Nach Abschluss der Erstellung werden alle Schlüssel angezeigt. Wir benötigen die folgenden drei Informationen für PicGo. Da sie jedoch nur einmal angezeigt werden, ist es ratsam, diese Parameterinformationen sicher in einem Passwort-Manager oder anderswo aufzubewahren.</p><p>An diesem Punkt haben wir den Konfigurationsteil auf Cloudflare R2 abgeschlossen. Als Nächstes müssen wir den PicGo-Client konfigurieren.</p><h3 id=picgo>PicGo</h3><p>PicGo ist eine Werkzeugsoftware zum schnellen Hochladen und Erhalten von Bild-URLs, mit einem relativ reichen Plugin-Ökosystem, das mehrere Bildhosting-Dienste unterstützt. Sein GitHub-Repository ist &ldquo;GitHub - Molunerfinn/PicGo&rdquo;, und Sie können den entsprechenden Plattform-Client zur Verwendung herunterladen.</p><h4 id=konfigurieren-des-r2-bildhostings>Konfigurieren des R2-Bildhostings</h4><p>PicGo selbst enthält kein S3-Bildhosting, aber es kann durch das Plugin &ldquo;GitHub - wayjam/picgo-plugin-s3&rdquo; unterstützt werden.</p><p><img src=https://image.pseudoyu.com/images/picgo_s3_plugin.png alt=picgo_s3_plugin></p><p>Wählen Sie in den &ldquo;Plugin-Einstellungen&rdquo; die Installation aus, und eine neue Amazon S3-Option wird in den &ldquo;Bildhosting-Einstellungen&rdquo; erscheinen. Klicken Sie darauf, um die Konfigurationsoptionen aufzurufen.</p><p><img src=https://image.pseudoyu.com/images/r2_picgo_s3_config.png alt=r2_picgo_s3_config></p><p>Es gibt mehrere Konfigurationselemente, die besondere Aufmerksamkeit erfordern:</p><ul><li><strong>Application Key ID</strong>, füllen Sie die Access Key ID aus der R2 API aus</li><li><strong>Application Key</strong>, füllen Sie den Secret Access Key aus der R2 API aus</li><li><strong>Bucket Name</strong>, füllen Sie den in R2 erstellten Bucket-Namen aus, wie <code>yu-r2-test</code> in meinem obigen Beispiel</li><li><strong>File Path</strong>, der Dateipfad, der in R2 hochgeladen wird, ich habe mich für <code>{fileName}.{extName}</code> entschieden, um den ursprünglichen Dateinamen und die Erweiterung beizubehalten</li><li><strong>Custom Node</strong>, füllen Sie den &ldquo;Jurisdiction-specific endpoint for S3 clients&rdquo; aus der R2 API aus, d.h. den S3 Endpoint im Format <code>xxx.r2.cloudflarestorage.com</code></li><li><strong>Custom Domain Name</strong>, füllen Sie die zuvor generierte Domain im Format <code>xxx.r2.dev</code> oder den benutzerdefinierten Domainnamen aus, wie <code>yu-r2-test.pseudoyu.com</code>, den ich konfiguriert habe</li></ul><p>Andere Konfigurationen können als Standard belassen werden. Nachdem Sie sich vergewissert haben, dass die Parameter korrekt sind, klicken Sie auf &ldquo;Bestätigen&rdquo; und &ldquo;Als Standard-Bildhosting festlegen&rdquo;.</p><h4 id=bild-upload>Bild-Upload</h4><p><img src=https://image.pseudoyu.com/images/upload_r2_with_picgo.png alt=upload_r2_with_picgo></p><p>Nach Abschluss der obigen Konfiguration können wir Dateien direkt in den &ldquo;Upload-Bereich&rdquo; ziehen, um Bilder hochzuladen. Wenn es nach dem Hochladen korrekt angezeigt wird, ist die Konfiguration erfolgreich. Der generierte Link wird automatisch in der Systemzwischenablage sein, und Sie können ihn direkt dort einfügen, wo er benötigt wird.</p><p><img src=https://image.pseudoyu.com/images/picgo_custom_url_format.png alt=picgo_custom_url_format></p><p>Und Sie können das entsprechende Format im Link-Format auswählen, wie URL- oder Markdown-Format-Links, die in Blogs verwendet werden können. Hier habe ich eine kleine Konfiguration vorgenommen: In den linken &ldquo;PicGo-Einstellungen&rdquo; - &ldquo;Benutzerdefiniertes Link-Format&rdquo; habe ich es zu <code>![$fileName]($url)</code> geändert und &ldquo;Benutzerdefiniert&rdquo; im Link-Format des Upload-Bereichs ausgewählt. Auf diese Weise wird nach dem Hochladen ein Markdown-Bildlink mit dem Dateinamen als Alt-Text basierend auf dem Dateinamen generiert.</p><h3 id=webp-cloud-bildoptimierung>WebP Cloud Bildoptimierung</h3><p>An diesem Punkt haben wir den gesamten Bildhosting-Aufbau, die Konfiguration und den Upload-Prozess abgeschlossen. Normalerweise sind jedoch die Bilder, die wir lokal screenshot oder mit Kameras aufnehmen, ziemlich groß, was für Besucher lange zum Laden dauern würde und nicht direkt für die Internetveröffentlichung geeignet ist.</p><p><img src=https://image.pseudoyu.com/images/tiny_png_compress.png alt=tiny_png_compress></p><p>Lange Zeit verwendete ich eine sehr umständliche Methode: die API der Online-Website &ldquo;TinyPNG&rdquo; kombiniert mit einer Open-Source-macOS-Client-Anwendung. Ich würde Bilder zur Komprimierung hineinziehen, bevor ich sie über PicGo zum Bildhosting hochlud. Dies konnte normalerweise die Bildgröße um mehr als 50% reduzieren, mit minimalem Verlust der Bildqualität. Es war umständlich, aber effektiv.</p><p>Nachdem ich diesmal die Bildhosting-Lösung geändert hatte, begann ich auch, nach intelligenteren Bildoptimierungsdiensten zu suchen, und dachte an &ldquo;WebP Cloud&rdquo;.</p><p>Ich habe tatsächlich letztes Jahr an einem Abend von diesem Dienst erfahren, als ich mit <a href=https://x.com/strrlthedev>STRRL</a> in einer Spielhalle in einem Einkaufszentrum in Hangzhou Leute beim Rhythmusspiele spielen beobachtete. Er zeigte mir die Nachricht, dass ein Blogbeitrag von <a href=https://x.com/n0vad3v>Nova Kwok</a> die Hacker News-Rangliste anführte, und wir verbrachten eine halbe Stunde damit, ihn gemeinsam anzuschauen. Damals wusste ich nur, dass es ein Dienst zur Optimierung von Bildern war, verstand ihn aber nicht im Detail.</p><p>Also öffnete ich die offizielle Website &ldquo;webp.se&rdquo; erneut, um eine detailliertere Einführung zu sehen.</p><p><img src=https://image.pseudoyu.com/images/webp_se_intro.png alt=webp_se_intro></p><p>Einfach ausgedrückt, ist dies ein CDN-ähnlicher Bild-Proxy-SaaS-Dienst, der die Bildgröße erheblich reduzieren kann, während er fast die gleiche Bildqualität beibehält, und so die gesamte Site-Ladegeschwindigkeit beschleunigt. Mit seiner Entwicklung bietet er jetzt neben der Reduzierung der Bildgröße mehr praktische Funktionen wie Caching, Hinzufügen von Wasserzeichen, Bildfilter und bietet benutzerdefinierte Header-Konfigurationsoptionen.</p><p>Nach einem Rundgang fühlte ich, dass es meine Bildoptimierungsanforderungen für den Blog gut erfüllen könnte, also begann ich, mit der Konfiguration zu spielen.</p><h4 id=konfigurieren-von-webp-cloud>Konfigurieren von WebP Cloud</h4><p><img src=https://image.pseudoyu.com/images/webp_cloud_login.png alt=webp_cloud_login></p><p>Melden Sie sich zunächst über die GitHub-Autorisierung bei der <a href=https://dashboard.webp.se/>WebP Cloud</a> Plattform an.</p><p><img src=https://image.pseudoyu.com/images/webp_cloud_overview.png alt=webp_cloud_overview></p><p>Die Seite ist sehr intuitiv und zeigt hauptsächlich das kostenlose Kontingent und zusätzliche Kontingentdaten unter dem aktuellen Plan sowie einige Nutzungsstatistiken an.</p><p>Klicken Sie auf die Schaltfläche &ldquo;Proxy erstellen&rdquo;, um eine Konfiguration hinzuzufügen.</p><p><img src=https://image.pseudoyu.com/images/webp_cloud_config.png alt=webp_cloud_config></p><ul><li>Um den Zugriff für Benutzer in China zu optimieren, habe ich für &ldquo;Proxy Region&rdquo; die US-West-Region &ldquo;Hillsboro, OR&rdquo; gewählt</li><li>Füllen Sie einen benutzerdefinierten Namen für &ldquo;Proxy Name&rdquo; aus</li><li>&ldquo;Proxy Origin URL&rdquo; ist wichtig, Sie müssen den benutzerdefinierten R2-Domainnamen ausfüllen, den wir zuvor konfiguriert haben, wie <code>yu-r2-test.pseudoyu.com</code> in meinem Fall. Wenn Sie keinen benutzerdefinierten Domainnamen konfiguriert haben, füllen Sie die von R2 bereitgestellte Domain im Format <code>xxx.r2.dev</code> aus</li></ul><p><img src=https://image.pseudoyu.com/images/yu_webp_test.png alt=yu_webp_test></p><p>Das unter &ldquo;Visitor&rdquo; im Abschnitt Basic info des Bildes gezeigte Format <code>xxx.webp.li</code> ist unsere Proxy-Adresse.</p><p>Zum Beispiel kann auf die Datei <a href=https://yu-r2-test.pseudoyu.com/new_mbp_setup.jpg>yu-r2-test.pseudoyu.com/new_mbp_setup.jpg</a>, die wir zuvor über PicGo in R2 hochgeladen haben, mit diesem Link zugegriffen werden: <a href=https://dc84642.webp.li/new_mbp_setup.jpg>dc84642.webp.li/new_mbp_setup.jpg</a>.</p><p><del>Wenn Ihnen die Standard-Proxy-Adresse nicht gefällt, können Sie den Entwickler über den Chat in der unteren rechten Ecke oder per E-Mail kontaktieren, um den Domainnamen anzupassen. In Zukunft könnte es einen automatisierteren Konfigurationsprozess geben.</del></p><p><strong>[2024-07-06 Update]</strong></p><p>Die Konfiguration benutzerdefinierter Domains wird jetzt unterstützt. Für detaillierte Anweisungen beachten Sie bitte &ldquo;Custom Domain | WebP Cloud Services Docs&rdquo;.</p><h4 id=ändern-der-picgo-konfiguration>Ändern der PicGo-Konfiguration</h4><p><img src=https://image.pseudoyu.com/images/change_pic_go_config.png alt=change_pic_go_config></p><p>Es ist wichtig zu beachten, dass wir, da die Bilder, die wir letztendlich im Blog platzieren müssen, Links sind, die durch WebP Cloud geproxyt wurden, zu den &ldquo;Bildhosting-Einstellungen&rdquo; von PicGo zurückkehren und die &ldquo;Benutzerdefinierte Domain&rdquo; in die WebP Cloud-Proxy-Adresse ändern müssen, die wir gerade konfiguriert haben, die im Format <code>xxx.webp.li</code> oder andere benutzerdefinierte Domainnamen vorliegt.</p><h4 id=verwendung-von-webp-cloud>Verwendung von WebP Cloud</h4><p>Kostenlose Benutzer haben 2000 Free Quota pro Tag, was bedeutet, dass sie 2000 Bildzugriffsanfragen proxyen können und 100M Bild-Cache bereitstellen. Dies ist für allgemeine Benutzer völlig ausreichend. Wenn es einige spezifische Perioden mit höherem Traffic gibt, können Sie auch zusätzliches Kontingent kaufen, was sehr günstig ist.</p><p>Wenn das Kontingent überschritten wird, wird der Zugriff 301 zur Quellbildadresse umgeleitet, ohne Komprimierung durch den WebP Cloud-Dienst, aber es wird immer noch nutzbar sein. Wenn der Cache 100M überschreitet, wird er nach dem LRU-Algorithmus gelöscht, so dass immer noch sichergestellt werden kann, dass einige häufig angeforderte Bilder eine gute Zugriffserfahrung haben können.</p><p><img src=https://image.pseudoyu.com/images/yu_webp_uasge.png alt=yu_webp_uasge></p><p>Die täglichen Besuche meines Blogs liegen bei etwa 300-500 Besuchen. Wenn man einige RSS-Abonnements und Crawler-Traffic hinzufügt, liegen laut WebP Cloud-Statistiken die täglichen Anfragen bei etwa 4000-5000, mit 10000+ an Tagen, an denen ich neue Beiträge veröffentliche.</p><p><img src=https://image.pseudoyu.com/images/webp_cloud_price.png alt=webp_cloud_price></p><p>Also habe ich mich vorerst für den Lite-Plan entschieden, kombiniert mit einiger zusätzlicher Nutzung, um Spitzenverkehr abzudecken. Ich plane, noch eine Weile zu beobachten, um zu sehen, wie es läuft.</p><h2 id=fazit>Fazit</h2><p>Das oben Genannte ist meine Lösung für den Aufbau des Bildhosting-Systems. Alle Bilder in diesem Artikel wurden ebenfalls mit PicGo hochgeladen, in Cloudflare R2 gespeichert und durch WebP Cloud-Proxy optimiert.</p><p>Dies ist eines meiner Blog-Setup- und Deployment-Serien-Tutorials. Wenn Sie daran interessiert sind, Kommentarsysteme, Datenstatistiksysteme usw. einzurichten, bleiben Sie dran. Ich hoffe, dies kann für alle als Referenz dienen.</p></articl><h2>Verwandte Beiträge</h2><dl class=row></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl><dt class=col-md-3>2024-08-06</dt><dd class=col-md-9><a href=/de/2024/08/06/deploy_web_statistics_system_using_goatcounter_and_zeabur/>Aufbau eines Website-Analysesystems mit GoatCounter und Zeabur</a></dd></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl><dt class=col-md-3>2024-07-22</dt><dd class=col-md-9><a href=/de/2024/07/22/free_commenting_system_using_remark42_and_flyio/>Baue dein kostenloses Blog-Kommentarsystem von Grund auf (Remark42 + fly.io)</a></dd></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl><dt class=col-md-3>2024-07-02</dt><dd class=col-md-9><a href=/de/2024/07/02/protect_your_image_using_webp_and_cloudflare_waf/>Hinzufügen von Datenschutz und Urheberrechtsschutz zu Ihrem Bild-Hosting mit WebP Cloud und Cloudflare WAF</a></dd></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl><dt class=col-md-3>2024-06-29</dt><dd class=col-md-9><a href=/de/2024/06/29/what_changed_in_my_blog_2024/>2024: Was hat sich auf meinem Blog verändert</a></dd></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl><dt class=col-md-3>2022-05-29</dt><dd class=col-md-9><a href=/de/2022/05/29/deploy_your_blog_using_hugo_and_github_action/>Hugo + GitHub Action: Aufbau Ihres automatisierten Blog-Veröffentlichungssystems</a></dd></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl><div class=author-card><div class=underline></div><div class=author-box><div class=author-image><a href=https://www.pseudoyu.com><img src=/images/author.webp alt=pseudoyu></a></div><div class=author-content><p class=author-title>Autor</p><p class=author-name>pseudoyu</p><p class=author-desc>Backend- & Smart-Contract-Entwickler, MSc-Absolvent in ECIC (Electronic Commerce and Internet Computing) an der Universität Hongkong (HKU). Lerne und entwickle gerne Neues. <a href=https://github.com/pseudoyu>Folge mir auf GitHub</a></p></div></div></div><div align=center><div class=comment-underline></div></div><br><div class=comments><div class=title><span>Comments</span>
<span class=counter><span class=remark42__counter data-url=https://www.pseudoyu.com/de/2024/06/30/free_image_hosting_system_using_r2_webp_cloud_and_picgo/></span></span></div><div id=remark42></div></div><script>var remark_config={host:"https://comments.pseudoyu.com",site_id:"pseudoyu.com",components:["embed","counter"],max_shown_comments:20,simple_view:!0,theme:"light"}</script><script>(function(){const t=window.REMARK42;if(t)t.destroy(),t.createInstance(remark_config);else for(const t of remark_config.components){var n=document,e=n.createElement("script");e.src=`${remark_config.host}/web/${t}.mjs`,e.type="module",e.defer=!0,e.setAttribute("data-no-instant",""),n.head.appendChild(e)}})()</script></div></main><div class="footer gradient-2"><div class="container footer-container"><div class=row><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>Sitemap</div><ul class=list-unstyled><li><a href=https://www.pseudoyu.com/de/tags/>Schlagworte</a></li><li><a href=https://www.pseudoyu.com/de/categories/>Kategorien</a></li><li><a rel=alternate type=application/rss+xml href=https://www.pseudoyu.com/de/index.xml><i class="fas fa-rss-square"></i> RSS-Feed</a></li></ul></div><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>Social</div><ul class=list-unstyled><li><a href=https://t.me/pseudoyulife rel=noopener target=_blank>Telegram</a></li><li><a href=https://twitter.com/pseudo_yu rel=noopener target=_blank>Twitter</a></li><li><a href=https://www.instagram.com/pseudo.yu/ rel=noopener target=_blank>Instagram</a></li><li><a href=https://space.bilibili.com/5374948/ rel=noopener target=_blank>BiliBili</a></li></ul></div><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>Links</div><ul class=list-unstyled><li><a href=https://github.com/pseudoyu rel=noopener target=_blank>Yu's GitHub</a></li></ul></div><div class="col-xs-12 col-sm-3 col-md-3 col-lg-3"><p class="pull-right text-right"><small><em><a href="https://stats.pseudoyu.com?access-token=2m1u5i2k413q0733h2a3332w3m1t6r634g1m6n" rel=noopener target=_blank>Yu's blog analytics</a></em></small><br><small><em>Powered by <a href=https://gohugo.io rel=noopener target=_blank>Hugo</a> - <a href=https://github.com/shaform/hugo-theme-den rel=noopener target=_blank>den</a></em></small><br><small><em><a href=https://www.hku.hk rel=noopener target=_blank>The University of Hong Kong</a> - <a href=https://www.cs.hku.hk rel=noopener target=_blank>CS</a></em></small><br><small>&copy;
Yu Zhang
2020 -
2024</small></p></div><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" id=scroll-top class=scroll-top accesskey=g><span class=arrow-icon></span></a>
<script>var mybutton=document.getElementById("scroll-top");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></div></div></div><script src=https://code.jquery.com/jquery-3.3.1.slim.min.js integrity=sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script></body></html>