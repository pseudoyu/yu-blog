<!doctype html><html lang=de itemscope itemtype=http://schema.org/WebPage><head><meta name=generator content="Hugo 0.105.0"><meta charset=utf-8><title>Interpretation der Bitcoin Core-Technologie · Pseudoyu</title><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><script data-goatcounter=https://stats.pseudoyu.com/count async src=//stats.pseudoyu.com/count.js></script><meta name=description content="Vorwort Im vorherigen Artikel &amp;ldquo;Grundlagen und Schlüsseltechnologien der Blockchain&amp;rdquo; habe ich die grundlegenden Kenntnisse und Schlüsseltechnologien der Blockchain umrissen. Da Bitcoin die typischste Anwendung der Blockchain ist, wird dieser Artikel die Kerntechnologien von Bitcoin interpretieren. Falls es Fehler oder Auslassungen gibt, diskutieren und korrigieren Sie diese bitte.
Bitcoin-System Bitcoin ist eine digitale Währung, die 2009 von Satoshi Nakamoto erfunden wurde, hauptsächlich um dem zentralisierten Bankensystem entgegenzuwirken. Aufgrund seines genialen Systemdesigns und seiner Sicherheit ist sein Wert rasant gestiegen."><meta name=keywords content="hugo,blockchain,programming"><link rel=canonical href=https://www.pseudoyu.com/de/2021/02/17/blockchain_bitcoin_basic/><link rel=alternate href=https://www.pseudoyu.com/zh/2021/02/17/blockchain_bitcoin_basic/ hreflang=zh><link rel=alternate href=https://www.pseudoyu.com/en/2021/02/17/blockchain_bitcoin_basic/ hreflang=en><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css integrity=sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.2.0/css/all.css integrity=sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ crossorigin=anonymous><link rel=stylesheet href=https://www.pseudoyu.com/css/den.css><link rel=stylesheet href=https://www.pseudoyu.com/css/custom.css><meta property="og:title" content="Interpretation der Bitcoin Core-Technologie"><meta property="og:description" content="Vorwort Im vorherigen Artikel &ldquo;Grundlagen und Schlüsseltechnologien der Blockchain&rdquo; habe ich die grundlegenden Kenntnisse und Schlüsseltechnologien der Blockchain umrissen. Da Bitcoin die typischste Anwendung der Blockchain ist, wird dieser Artikel die Kerntechnologien von Bitcoin interpretieren. Falls es Fehler oder Auslassungen gibt, diskutieren und korrigieren Sie diese bitte.
Bitcoin-System Bitcoin ist eine digitale Währung, die 2009 von Satoshi Nakamoto erfunden wurde, hauptsächlich um dem zentralisierten Bankensystem entgegenzuwirken. Aufgrund seines genialen Systemdesigns und seiner Sicherheit ist sein Wert rasant gestiegen."><meta property="og:type" content="article"><meta property="og:url" content="https://www.pseudoyu.com/de/2021/02/17/blockchain_bitcoin_basic/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-02-17T12:12:17+08:00"><meta property="article:modified_time" content="2021-02-17T12:12:17+08:00"><meta itemprop=name content="Interpretation der Bitcoin Core-Technologie"><meta itemprop=description content="Vorwort Im vorherigen Artikel &ldquo;Grundlagen und Schlüsseltechnologien der Blockchain&rdquo; habe ich die grundlegenden Kenntnisse und Schlüsseltechnologien der Blockchain umrissen. Da Bitcoin die typischste Anwendung der Blockchain ist, wird dieser Artikel die Kerntechnologien von Bitcoin interpretieren. Falls es Fehler oder Auslassungen gibt, diskutieren und korrigieren Sie diese bitte.
Bitcoin-System Bitcoin ist eine digitale Währung, die 2009 von Satoshi Nakamoto erfunden wurde, hauptsächlich um dem zentralisierten Bankensystem entgegenzuwirken. Aufgrund seines genialen Systemdesigns und seiner Sicherheit ist sein Wert rasant gestiegen."><meta itemprop=datePublished content="2021-02-17T12:12:17+08:00"><meta itemprop=dateModified content="2021-02-17T12:12:17+08:00"><meta itemprop=wordCount content="3237"><meta itemprop=keywords content="blockchain,bitcoin,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Interpretation der Bitcoin Core-Technologie"><meta name=twitter:description content="Vorwort Im vorherigen Artikel &ldquo;Grundlagen und Schlüsseltechnologien der Blockchain&rdquo; habe ich die grundlegenden Kenntnisse und Schlüsseltechnologien der Blockchain umrissen. Da Bitcoin die typischste Anwendung der Blockchain ist, wird dieser Artikel die Kerntechnologien von Bitcoin interpretieren. Falls es Fehler oder Auslassungen gibt, diskutieren und korrigieren Sie diese bitte.
Bitcoin-System Bitcoin ist eine digitale Währung, die 2009 von Satoshi Nakamoto erfunden wurde, hauptsächlich um dem zentralisierten Bankensystem entgegenzuwirken. Aufgrund seines genialen Systemdesigns und seiner Sicherheit ist sein Wert rasant gestiegen."></head><body><div class=header-container style=background:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2)),url(https://www.pseudoyu.com/images/background.png);background-position:50%;background-size:cover><div class=container><nav class="header-nav navbar navbar-expand-md navbar-dark light-dark"><div class="header-logo navbar-brand"><a class=float-left href=https://www.pseudoyu.com/de/><img class="mr20 header-logo-image" src=https://www.pseudoyu.com/images/icon.png alt=logo>
Pseudoyu</a></div><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarNav aria-controls=navbarNav aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="nav-menu collapse navbar-collapse" id=navbarNav><ul class=navbar-nav><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/de/category/ideas/>Ideen</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/de/category/tools/>Tools</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/de/category/develop/>Code</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/de/links/>Links</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/de/search/>Suche</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/de/about/>Über</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/zh/><i class="fas fa-globe"></i> 简</a></li><li class=nav-item><a class=nav-link href=https://www.pseudoyu.com/en/><i class="fas fa-globe"></i> EN</a></li></ul></div></nav></div><div class="container header-wrapper"><div class=row><div class=col-lg-12><div class=header-content><h1 class=header-title>Interpretation der Bitcoin Core-Technologie</h1><p class=header-date>Autor:
pseudoyu
| <span>3237 Wörter, 16 Minuten</span>
| <span class=remark42__counter data-url=https://www.pseudoyu.com/de/2021/02/17/blockchain_bitcoin_basic/></span> Kommentare
| 2021-02-17
| Kategorie:
<a href=https://www.pseudoyu.com/de/category/develop/>Develop</a></p><div class=header-underline></div><div class=clearfix></div><p class="float-right header-tags"><i class="fas fa-tags" aria-hidden=true></i>
<a href=https://www.pseudoyu.com/de/tag/bitcoin/>bitcoin</a>,
<a href=https://www.pseudoyu.com/de/tag/blockchain/>blockchain</a></p><div class=clearfix></div><p class="float-right translations"><i class="fas fa-language" aria-hidden=true></i>
Übersetzungen:
<a href=https://www.pseudoyu.com/zh/2021/02/17/blockchain_bitcoin_basic/>ZH</a>, <a href=https://www.pseudoyu.com/en/2021/02/17/blockchain_bitcoin_basic/>EN</a></p></div></div></div></div></div><main><div class="container content"><articl data-pagefind-body><h2 id=vorwort>Vorwort</h2><p>Im vorherigen Artikel &ldquo;<a href=https://www.pseudoyu.com/de/2021/02/12/blockchain_basic/>Grundlagen und Schlüsseltechnologien der Blockchain</a>&rdquo; habe ich die grundlegenden Kenntnisse und Schlüsseltechnologien der Blockchain umrissen. Da Bitcoin die typischste Anwendung der Blockchain ist, wird dieser Artikel die Kerntechnologien von Bitcoin interpretieren. Falls es Fehler oder Auslassungen gibt, diskutieren und korrigieren Sie diese bitte.</p><h2 id=bitcoin-system>Bitcoin-System</h2><p>Bitcoin ist eine digitale Währung, die 2009 von Satoshi Nakamoto erfunden wurde, hauptsächlich um dem zentralisierten Bankensystem entgegenzuwirken. Aufgrund seines genialen Systemdesigns und seiner Sicherheit ist sein Wert rasant gestiegen. Gleichzeitig wurde es wegen seiner starken Anonymität, da es nicht an Identitäten der realen Welt gebunden ist, auch für illegale Transaktionen, Geldwäsche, Erpressung und andere böswillige Aktivitäten genutzt, was zu einigen Kontroversen geführt hat.</p><p>Als dezentrales Blockchain-System kann jeder darauf zugreifen und einen Knoten lokal unterhalten, um am Bitcoin-Netzwerk teilzunehmen. Der folgende Text wird auch den Bitcoin Core-Client verwenden, um einen Knoten lokal zu unterhalten.</p><p><img src=https://image.pseudoyu.com/images/bitcoin_network_nodes.png alt=bitcoin_network_nodes></p><p>Knoten werden in Full Nodes und Light Nodes unterteilt. In den Anfängen waren alle Knoten Full Nodes, aber mit der wachsenden Datenmenge müssen Bitcoin-Clients, die auf Geräten wie Mobiltelefonen oder Tablets laufen, keine Informationen über die gesamte Blockchain speichern. Diese werden als Simplified Payment Verification (SPV) Nodes oder Light Nodes bezeichnet.</p><p>Der Bitcoin Core-Client ist ein Full Node, der im Folgenden ausführlich besprochen wird. Full Nodes sind immer online und halten vollständige Blockchain-Informationen aufrecht. Da sie einen vollständigen Satz von UTXOs im Speicher halten, können sie die Rechtmäßigkeit von Transaktionen überprüfen, indem sie die Block- und Transaktionsinformationen der gesamten Blockchain (vom Genesis-Block bis zum neuesten Block) verifizieren. Sie entscheiden auch, welche Transaktionen in Blöcke gepackt werden. Beim Verifizieren von Transaktionen, d.h. beim Mining, können sie entscheiden, auf welcher Kette weiter gemint wird, und im Falle von gleichlangen Forks wählen, welchem Fork zu folgen ist. Sie überwachen auch die von anderen Minern geschürften Blöcke und überprüfen deren Rechtmäßigkeit.</p><p>Light Nodes müssen nicht ständig online sein und auch nicht die gesamte Blockchain (die eine große Datenmenge darstellt) speichern. Sie müssen nur die Block-Header jedes Blocks behalten und nur die Blöcke speichern, die mit ihnen selbst in Verbindung stehen, nicht alle Transaktionen auf der Kette. Da sie nicht alle Informationen speichern, können sie die Rechtmäßigkeit der meisten Transaktionen und die Korrektheit neuer online veröffentlichter Blöcke nicht überprüfen. Sie können nur die mit ihnen verbundenen Blöcke überprüfen. Sie können die Existenz einer Transaktion durch Merkle Proof verifizieren, aber nicht bestätigen, dass eine Transaktion nicht existiert. Sie können die Schwierigkeit des Minings überprüfen, da diese im Block-Header gespeichert ist.</p><blockquote><p>Lassen Sie uns die Transaktionsverifizierungsmethoden von Full Nodes und Light Nodes anhand eines Beispiels erklären.</p></blockquote><p>Nehmen wir an, wir müssen eine Transaktion T verifizieren, die sich in Block 300.000 befindet. Ein Full Node würde alle 300.000 Blöcke (bis zum Genesis-Block) untersuchen und dabei eine vollständige UTXO-Datenbank aufbauen, um sicherzustellen, dass diese Transaktion nicht ausgegeben wurde. Ein Light Node hingegen würde den Merkle-Pfad nutzen, um alle mit Transaktion T verbundenen Blöcke zu verknüpfen, und dann auf die Blöcke 300.001 bis 300.006 zur Bestätigung warten, um so die Rechtmäßigkeit der Transaktion zu verifizieren.</p><h3 id=blockchain-struktur>Blockchain-Struktur</h3><p>Blockchain ist eine Datenstruktur, die aus sequentiell verknüpften Blöcken besteht und in einer einzelnen Datei oder Datenbank gespeichert werden kann. Der Bitcoin-Client verwendet Googles LevelDB-Datenbank zur Datenspeicherung. Jeder Block verweist auf den vorherigen Block. Wenn ein Block modifiziert wird, werden alle nachfolgenden Blöcke beeinflusst. Um einen Block zu manipulieren, müsste man also gleichzeitig alle nachfolgenden Blöcke manipulieren, was eine große Menge an Rechenleistung erfordert. Oft übersteigen die Kosten den Nutzen, was die Sicherheit stark gewährleistet.</p><p>Die Blockchain-Struktur umfasst mehrere Kernkomponenten: Blockgröße (4 Bytes), Block-Header, Transaktionszähler (1-9 Bytes) und Transaktionen.</p><p>Die Block-Header-Größe beträgt 80 Bytes und speichert Version (4 Bytes), Previous Block Hash (32 Bytes), Merkle Tree Root (32 Bytes), Timestamp (4 Bytes), Difficulty Target (4 Bytes) und Nonce (4 Bytes).</p><p>Der Hash-Wert jedes Blocks wird durch eine doppelte Hash-Operation am Block-Header gewonnen, d.h. SHA256(SHA256(Block Header)). Er existiert nicht in der Blockchain-Struktur, sondern wird von jedem Knoten nach Erhalt des Blocks berechnet und ist eindeutig. Zusätzlich kann auch die Block Height als Identifikator für den Block dienen.</p><h4 id=merkle-baum>Merkle-Baum</h4><p>Der Merkle-Baum ist eine sehr wichtige Datenstruktur in der Blockchain, die hauptsächlich zur Verifizierung größerer Datensätze durch Hash-Algorithmen verwendet wird (ebenfalls durch eine doppelte Hash-Methode SHA256(SHA256(Block Header))). Die Struktur ist im folgenden Diagramm dargestellt:</p><p><img src=https://image.pseudoyu.com/images/merkle_tree_example.png alt=merkle_tree_example></p><p>Mit der Merkle-Baum-Methode kann man schnell überprüfen, ob eine Transaktion in einem bestimmten Block existiert (mit einer Algorithmus-Komplexität von LogN). Um beispielsweise zu überprüfen, ob eine Transaktion K in einem Block existiert, müssen nur wenige Knoten aufgerufen werden.</p><p><img src=https://image.pseudoyu.com/images/merkle_proof_example.png alt=merkle_proof_example></p><p>Da es im Bitcoin-Netzwerk eine große Anzahl von Transaktionen gibt, kann diese Methode die Effizienz stark verbessern, wie im folgenden Diagramm gezeigt:</p><p><img src=https://image.pseudoyu.com/images/merkle_proof_efficiency.png alt=merkle_proof_efficiency></p><p>Da Light Nodes (wie Bitcoin-Wallets auf Mobiltelefonen) nicht die gesamten Blockchain-Daten speichern, können Transaktionen leicht über die Merkle-Baum-Struktur gefunden werden. Light Nodes konstruieren einen Bloom-Filter, um Transaktionen zu erhalten, die mit ihnen in Verbindung stehen:</p><ol><li>Zuerst wird der Bloom-Filter auf einen leeren Wert initialisiert, alle Adressen in der Wallet werden abgerufen, ein Abrufmuster wird erstellt, um die Adressen zu matchen, die mit diesem Transaktionsoutput in Verbindung stehen, und das Abrufmuster wird dem Bloom-Filter hinzugefügt;</li><li>Dann wird der Bloom-Filter an verschiedene Knoten gesendet (über die filterload-Nachricht);</li><li>Nach Erhalt sendet der Knoten eine merkleblock-Nachricht, die die Block-Header enthält, die die Bedingungen erfüllen, und den Merkle-Pfad der übereinstimmenden Transaktionen, sowie eine tx-Nachricht, die die Filterergebnisse enthält.</li></ol><p>Während des Prozesses wird der Light Node den Merkle-Pfad verwenden, um Transaktionen mit Blöcken zu verknüpfen, und Block-Header verwenden, um die Blockchain zu bilden, wodurch er überprüfen kann, dass Transaktionen in der Blockchain existieren.</p><p>Die Verwendung eines Bloom-Filters gibt Ergebnisse zurück, die die Filterbedingungen erfüllen, und es werden auch einige falsch positive Ergebnisse zurückgegeben, sodass viele irrelevante Ergebnisse zurückgegeben werden, was auch die Privatsphäre schützen kann, wenn Light Nodes relevante Adressen von anderen Knoten anfordern.</p><h3 id=bitcoin-netzwerk>Bitcoin-Netzwerk</h3><p>Das Bitcoin-System läuft auf einem P2P-Peer-to-Peer-Netzwerk, in dem die Knoten gleichberechtigt sind, ohne Unterscheidung von Identität oder Berechtigungen; es gibt keine zentralisierten Server, und das Netzwerk hat keine hierarchischen Unterscheidungen.</p><p>Jeder Knoten muss eine Reihe von Transaktionen aufrechterhalten, die darauf warten, in die Kette aufgenommen zu werden. Jeder Block hat eine Größe von 1M, sodass es einige Sekunden dauert, bis er an die meisten Knoten weitergegeben wird. Angenommen, ein Knoten überwacht eine Transaktion von A nach B, wird er sie in den Satz schreiben. Wenn er gleichzeitig einen Double-Spending-Angriff von A nach C entdeckt, wird er diesen nicht einschreiben. Wenn er die gleiche A-zu-B-Transaktion oder eine A-zu-C-Transaktion von derselben Münzquelle überwacht, wird er die A-zu-B-Transaktion in diesem Satz löschen.</p><h3 id=bitcoin-konsensprotokoll>Bitcoin-Konsensprotokoll</h3><p>Als offenes System, an dem jeder teilnehmen kann, muss Bitcoin die Bedrohung durch böswillige Knoten lösen. Die Lösung ist der Proof-of-Work-Mechanismus, der auch als Rechenleistungs-Abstimmungsmechanismus bekannt ist. Wenn eine neue Transaktion auftritt, werden neue Datensätze gesendet, und das gesamte Netzwerk führt den Konsensalgorithmus aus. Miner minen, um die Aufzeichnungen zu verifizieren, d.h. sie lösen Zufallszahlen. Der Miner, der das Rätsel zuerst löst, erhält das Recht zur Aufzeichnung, generiert einen neuen Block und sendet dann den neuen Block extern. Nachdem andere Knoten verifiziert und bestätigt haben, wird er der Hauptkette hinzugefügt.</p><h3 id=wallet>Wallet</h3><p>Als digitales Währungssystem hat Bitcoin sein eigenes Wallet-System, das hauptsächlich aus drei Teilen besteht: privater Schlüssel, öffentlicher Schlüssel und Wallet-Adresse.</p><blockquote><p>Der Prozess der Generierung einer Wallet-Adresse ist wie folgt:</p></blockquote><ol><li>Unter Verwendung des ECDSA (Elliptic Curve Digital Signature Algorithm) wird der entsprechende öffentliche Schlüssel mit dem privaten Schlüssel generiert.</li><li>Der öffentliche Schlüssel ist lang und schwer einzugeben und zu merken, daher wird ein öffentlicher Schlüssel-Hash-Wert durch SHA256- und RIPEMD160-Algorithmen gewonnen.</li><li>Schließlich wird er mit Base58Check verarbeitet, um eine besser lesbare Wallet-Adresse zu erhalten.</li></ol><h3 id=transaktionsprozess>Transaktionsprozess</h3><p>Mit einer Wallet (und Vermögenswerten) kann man mit dem Handeln beginnen. Verstehen wir diesen Prozess anhand einer typischen Bitcoin-Transaktion:</p><p>A und B haben beide eine Bitcoin-Wallet-Adresse (die vom Bitcoin-Client generiert werden kann, das Prinzip ist wie oben). Angenommen, A möchte 5 BTC an B überweisen. A muss die Wallet-Adresse von B erhalten, dann mit seinem eigenen privaten Schlüssel die Transaktion &ldquo;A überweist 5 BTC an B&rdquo; signieren (da nur A seinen privaten Schlüssel kennt, ist der Besitz des privaten Schlüssels gleichbedeutend mit dem Besitz der Wallet-Vermögenswerte). Dann wird diese Transaktion veröffentlicht. Im Bitcoin-System erfordert das Initiieren einer Transaktion die Zahlung einer kleinen Miner-Gebühr als Transaktionsgebühr. Miner werden beginnen, die Rechtmäßigkeit dieser Transaktion zu überprüfen. Nach sechs Bestätigungen kann die Transaktion vom Bitcoin-Ledger akzeptiert werden. Der gesamte Verifizierungsprozess dauert etwa 10 Minuten.</p><blockquote><p>Warum verbrauchen Miner eine große Menge an Rechenleistung, um Transaktionen zu verifizieren?</p></blockquote><p>Miner können während des Verifizierungsprozesses Block-Belohnungen und Miner-Gebühren erhalten. Block-Belohnungen werden alle vier Jahre reduziert, sodass in den späteren Phasen der Hauptanreiz die Miner-Gebühren sind.</p><blockquote><p>Warum dauert die Verifizierung 10 Minuten?</p></blockquote><p>Bitcoin ist nicht absolut sicher. Neue Transaktionen sind anfällig für einige böswillige Angriffe. Indem die Mining-Schwierigkeit kontrolliert wird, um den Verifizierungsprozess auf etwa 10 Minuten zu stabilisieren, können böswillige Angriffe weitgehend verhindert werden. Dies ist nur eine probabilistische Garantie.</p><blockquote><p>Wie vermeidet das Bitcoin-System Double Spending?</p></blockquote><p>Bitcoin hat ein Konzept namens UTXO (Unspent Transaction Outputs) eingeführt. Wenn ein Benutzer eine BTC-Transaktion erhält, wird sie in der UTXO aufgezeichnet.</p><p>In diesem Beispiel möchte A 5 BTC an B überweisen. Die 5 BTC von A könnten aus zwei UTXOs stammen (2 BTC + 3 BTC). Wenn A also an B überweist, muss der Miner überprüfen, ob diese beiden UTXOs vor dieser Transaktion bereits ausgegeben wurden. Wenn sie feststellen, dass sie bereits ausgegeben wurden, ist die Transaktion ungültig.</p><p>Das folgende Diagramm veranschaulicht gut den Ablauf mehrerer Transaktionen und das damit verbundene Konzept der UTXO</p><p><img src=https://image.pseudoyu.com/images/btc_utxo_example.png alt=btc_utxo_example></p><p>Darüber hinaus hat UTXO eine sehr wichtige Eigenschaft: sie ist unteilbar. Angenommen, A hat 20 BTC und möchte 5 BTC an B überweisen. Die Transaktion wird zunächst 20 BTC als Eingabe nehmen und dann zwei Ausgaben produzieren, eine, die 5 BTC an B überweist, und eine, die die verbleibenden 15 BTC an A zurückgibt. Daher besitzt A jetzt eine UTXO im Wert von 15 BTC. Wenn eine einzelne UTXO nicht ausreicht, um zu zahlen, können mehrere UTXOs kombiniert werden, um eine Eingabe zu bilden, aber die Summe muss größer sein als der Transaktionsbetrag.</p><blockquote><p>Wie überprüfen Miner, ob der Transaktionsinitiator über ausreichendes Guthaben verfügt?</p></blockquote><p>Diese Frage erscheint auf den ersten Blick einfach. Die erste Reaktion könnte sein, zu überprüfen, ob das Guthaben ausreicht, wie es Alipay tut. Bitcoin ist jedoch ein transaktionsbasiertes Ledger-Modell ohne das Konzept von Konten. Daher kann das Guthaben nicht direkt abgefragt werden. Um die verbleibenden Vermögenswerte eines Kontos zu kennen, muss man alle vorherigen Transaktionen überprüfen und alle UTXOs finden und aufaddieren.</p><h3 id=transaktionsmodell>Transaktionsmodell</h3><blockquote><p>Wir haben besprochen, wie eine Transaktion abläuft, aber aus welchen Teilen besteht eine Bitcoin-Transaktion?</p></blockquote><p><img src=https://image.pseudoyu.com/images/blockchain_bitcoin_script_detail.png alt=blockchain_bitcoin_script_detail></p><p>Wie in der Abbildung gezeigt, ist der erste Teil Version, der die Version angibt.</p><p>Dann kommen die Informationen bezüglich der Eingabe: Input Count gibt die Anzahl an, und Input Info gibt den Inhalt der Eingabe an, was das Unlocking Script ist, hauptsächlich verwendet, um die Quelle der Eingabe zu überprüfen, ob die Eingabe verfügbar ist, und andere Eingabedetails.</p><ul><li>Previous output hash - Alle Eingaben können auf eine Ausgabe zurückgeführt werden. Dies verweist auf die UTXO, die in dieser Eingabe ausgegeben wird. Der Hash-Wert dieser UTXO wird hier in umgekehrter Reihenfolge gespeichert.</li><li>Previous output index - Eine Transaktion kann mehrere UTXOs haben, auf die durch ihre Indexnummern verwiesen wird. Der erste Index ist 0.</li><li>Unlocking Script Size - Die Bytegröße des Unlocking Scripts.</li><li>Unlocking Script - Der Hash, der das UTXO Unlocking Script erfüllt.</li><li>Sequence Number - Standard ist ffffffff.</li></ul><p>Als nächstes kommen die Informationen bezüglich der Ausgabe. Output Count gibt die Anzahl an, und Output Info gibt den Inhalt der Ausgabe an, was das Locking Script ist, hauptsächlich verwendet, um aufzuzeichnen, wie viele Bitcoins ausgegeben wurden, die Bedingungen für zukünftige Ausgaben und Ausgabedetails.</p><ul><li>Amount - Der Betrag der Bitcoin-Ausgabe, ausgedrückt in Satoshis (der kleinsten Einheit von Bitcoin). 10^8 Satoshis = 1 Bitcoin.</li><li>Locking Script Size - Dies ist die Bytegröße des Locking Scripts.</li><li>Locking Script - Dies ist der Hash des Locking Scripts, der die Bedingungen spezifiziert, die erfüllt sein müssen, um diese Ausgabe zu verwenden.</li></ul><p>Schließlich gibt es Locktime, das den frühesten Zeitpunkt/Block angibt, an dem eine Transaktion der Blockchain hinzugefügt werden kann. Wenn es kleiner als 500 Millionen ist, liest es direkt die Blockhöhe, und wenn es größer als 500 Millionen ist, liest es den Zeitstempel.</p><h3 id=bitcoin-skript>Bitcoin-Skript</h3><p>In der Transaktion haben wir Unlocking Script und Locking Script erwähnt. Was ist also ein Bitcoin-Skript?</p><p>Bitcoin-Skript ist eine Liste von Anweisungen, die in jeder Transaktion aufgezeichnet sind. Wenn das Skript ausgeführt wird, kann es überprüfen, ob die Transaktion gültig ist, ob der Bitcoin verwendet werden kann, usw. Ein typisches Skript sieht so aus:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>&lt;sig&gt; &lt;pubKey&gt; OP_DUP OP_HASH160 &lt;pubKeyHash&gt; OP_EQUALVERIFY OP_CHECKSIG
</span></span></code></pre></div><p>Bitcoin-Skript wird von links nach rechts basierend auf einem Stack ausgeführt und verwendet Opcodes, um die Daten zu verarbeiten. In dieser Skriptsprache sind Daten, die in &lt;> eingeschlossen sind, auf den Stack zu schieben, diejenigen ohne &lt;> und mit dem Präfix OP_ sind Operatoren (OP kann weggelassen werden). Skripte können auch Daten einbetten, die permanent auf der Kette aufgezeichnet werden (nicht mehr als 40 Bytes), und die aufgezeichneten Daten beeinflussen UTXO nicht.</p><p>In einer Transaktion ist <code>&lt;sig> &lt;pubKey></code> das Unlocking Script und <code>OP_DUP OP_HASH160 &lt;pubKeyHash> OP_EQUALVERIFY OP_CHECKSIG</code> ist das Locking Script.</p><p>Im Vergleich zu den meisten Programmiersprachen ist Bitcoin-Skript nicht Turing-vollständig. Es hat keine Schleifen oder komplexe Flusssteuerung, ist einfach auszuführen, produziert deterministische Ergebnisse, egal wo es ausgeführt wird, und speichert keinen Zustand. Darüber hinaus sind Skripte voneinander unabhängig. Aufgrund dieser Eigenschaften ist Bitcoin-Skript zwar relativ sicher, kann aber keine sehr komplexe Logik handhaben, sodass es nicht geeignet ist, um einige komplexe Geschäfte zu handhaben. Ethereums Smart Contracts machten in diesem Aspekt innovative Durchbrüche und gaben so vielen dezentralen Anwendungen die Geburt.</p><h3 id=mining>Mining</h3><p>Wir haben das Mining in der vorherigen Diskussion des gesamten Transaktionsprozesses erwähnt. Lassen Sie uns es jetzt im Detail besprechen.</p><p>Einige Knoten werden, um Block-Belohnungen und Miner-Gebühren zu erhalten und Gewinne zu erzielen, Transaktionen verifizieren, was als Mining bezeichnet wird. Block-Belohnungen werden durch Coinbase erzeugt und verringern sich alle vier Jahre, von 25 im Jahr 2009 auf jetzt 6,5.</p><p>Mining ist eigentlich ein Prozess des ständigen Versuchs von Zufallszahlen, um einen bestimmten festgelegten Zielwert zu erreichen, wie z.B. weniger als ein bestimmter Zielwert. Diese Schwierigkeit wird künstlich festgelegt, um die Verifizierungszeit anzupassen und die Sicherheit zu erhöhen, nicht um mathematische Probleme zu lösen.</p><p>Miner werden ständig versuchen, diesen Wert zu erreichen. Die Erfolgsrate ist sehr niedrig, aber die Anzahl der Versuche kann sehr hoch sein. Daher haben Knoten mit stärkerer Rechenleistung einen proportionalen Vorteil und sind eher in der Lage, das Rätsel zu lösen.</p><blockquote><p>Warum muss die Mining-Schwierigkeit angepasst werden?</p></blockquote><p>Im Bitcoin-System ist es leicht, Forks zu produzieren, wenn die Blockzeit zu kurz ist. Wenn es zu viele Forks gibt, wird es die Fähigkeit des Systems beeinträchtigen, Konsens zu erreichen, was die Systemsicherheit gefährdet. Das Bitcoin-System passt die Schwierigkeit an, um die Blockgenerierungsgeschwindigkeit bei etwa 10 Minuten zu stabilisieren und damit zu verhindern, dass Transaktionen manipuliert werden.</p><blockquote><p>Wie wird die Mining-Schwierigkeit angepasst?</p></blockquote><p>Das System passt den Zielschwellenwert alle 2016 Blöcke (etwa zwei Wochen) an, der im Block-Header gespeichert wird. Alle Knoten im gesamten Netzwerk müssen der neuen Schwierigkeit beim Mining folgen. Wenn böswillige Knoten den Zielwert in ihrem Code nicht anpassen, werden ehrliche Miner ihn nicht anerkennen.</p><p>Zielschwellenwert = Zielschwellenwert * (Tatsächliche Zeit zur Produktion von 2016 Blöcken / Erwartete Zeit zur Produktion von 2016 Blöcken)</p><p>Als Bitcoin geboren wurde, gab es wenige Miner und die Mining-Schwierigkeit war relativ niedrig. Das meiste Mining wurde direkt mit Heimcomputern (CPUs) durchgeführt. Mit immer mehr Teilnehmern am Bitcoin-Ökosystem stieg die Schwierigkeit des Minings. Nach und nach begannen die Menschen, einige GPUs mit stärkerer Rechenleistung für das Mining zu verwenden. Einige spezialisierte ASIC (Application Specific Integrated Circuit) Mining-Chips und Mining-Maschinen sind auch allmählich als Reaktion auf die Marktnachfrage entstanden. Jetzt gibt es auch viele große Mining-Pools, die eine große Menge an Rechenleistung im gesamten Netzwerk für zentralisiertes Mining kombinieren.</p><p>In diesem großen Mining-Pool-System fungiert der Pool-Manager als Full Node, während die große Anzahl der gesammelten Miner gemeinsam Hash-Werte berechnen und schließlich Gewinne durch den Proof-of-Work-Mechanismus verteilen. Wenn die Rechenleistung jedoch zu konzentriert ist, kann dies leicht einige Zentralisierungsrisiken erzeugen. Zum Beispiel könnte ein großer Mining-Pool, wenn er mehr als 51% der Netzwerkrechenleistung erreicht, Transaktionen rückgängig machen oder bestimmte Transaktionen boykottieren.</p><h3 id=forks>Forks</h3><p>Im Bitcoin-System kann es auch Situationen geben, in denen kein Konsens erreicht wird, die als Forks bezeichnet werden. Forks werden hauptsächlich in zwei Arten unterteilt: Eine ist ein Zustandsfork, der oft absichtlich von einigen Knoten durchgeführt wird; die andere wird als Protokollfork bezeichnet, was bedeutet, dass es einige Meinungsverschiedenheiten über das Bitcoin-Protokoll gibt.</p><p>Protokollforks können weiter in zwei Typen unterteilt werden. Einer wird als harter Fork bezeichnet, was bedeutet, dass inkompatible Änderungen an Teilen des Protokolls vorgenommen wurden. Zum Beispiel die Änderung der Blockgröße von Bitcoin von 1M auf 4M. Diese Art von Fork ist permanent und bildet zwei parallele Ketten, die sich von einem bestimmten Knoten aus entwickeln, wie Bitcoin Classic, was zu zwei Arten von Münzen führt.</p><p>Die andere wird als weicher Fork bezeichnet. Zum Beispiel, immer noch die Anpassung der Blockgröße von Bitcoin, aber von 1M auf 0,5M. Nach einer solchen Anpassung wird es eine Situation geben, in der neue Knoten kleine Blöcke minen und alte Knoten große Blöcke minen. Weiche Forks sind nicht permanent. Typische Beispiele sind die Modifikation des Inhalts von Coinbase und der durch P2SH (Pay to Script Hash) erzeugte Fork.</p><h2 id=bitcoin-core-client>Bitcoin Core-Client</h2><p>Bitcoin Core ist die Implementierung von Bitcoin, auch bekannt als Bitcoin-QT oder Satoshi-Client. Durch diesen Client kann man sich mit dem Bitcoin-Netzwerk verbinden, die Blockchain verifizieren, Bitcoins senden und empfangen usw. Es gibt drei Netzwerke: Mainnet, Testnet und Regnet, zwischen denen gewechselt werden kann.</p><p>Es bietet eine Debug-Konsole, um direkt mit der Bitcoin-Blockchain zu interagieren. Gängige Operationen sind wie folgt:</p><blockquote><p>Blockchain</p></blockquote><ul><li>getblockchaininfo: Gibt verschiedene Statusinformationen über die Blockchain-Verarbeitung zurück</li><li>getblockcount: Gibt die Anzahl der Blöcke in der Blockchain zurück</li><li>verifychain: Überprüft die Blockchain-Datenbank</li></ul><blockquote><p>Hash</p></blockquote><ul><li>getblockhash: Gibt den Hash des angegebenen Blocks zurück</li><li>getnetworkhashps: Gibt die geschätzten Netzwerk-Hashes pro Sekunde basierend auf den letzten n Blöcken zurück</li><li>getbestblockhash: Gibt den Hash des besten (Spitzen-) Blocks in der längsten Blockchain zurück</li></ul><blockquote><p>Blöcke</p></blockquote><ul><li>getblock: Gibt detaillierte Informationen über einen Block zurück</li><li>getblockheader: Gibt Informationen über den Block-Header zurück</li><li>generate: Mint sofort die angegebene Anzahl von Blöcken an eine Wallet-Adresse</li></ul><blockquote><p>Wallet</p></blockquote><ul><li>getwalletinfo: Gibt ein Objekt zurück, das verschiedene Wallet-Statusinformationen enthält</li><li>listwallets: Gibt eine Liste der aktuell geladenen Wallets zurück</li><li>walletpassphrasechange: Ändert die Wallet-Passphrase</li></ul><blockquote><p>Mempool</p></blockquote><ul><li>getmempoolinfo: Gibt Details zum aktiven Zustand des TX-Speicherpools zurück</li><li>getrawmempool: Gibt alle Transaktions-IDs im Speicherpool zurück</li><li>getmempoolentry: Gibt Mempool-Daten für eine gegebene Transaktion zurück</li></ul><blockquote><p>Transaktion</p></blockquote><ul><li>getchaintxstats: Berechnet Statistiken über die Gesamtzahl und Rate der Transaktionen in der Kette</li><li>getrawtransaction: Gibt Rohtransaktionsdaten zurück</li><li>listtransactions: Gibt eine Liste der Transaktionen für ein gegebenes Konto zurück</li></ul><blockquote><p>Signatur</p></blockquote><ul><li>signrawtransaction: Signiert Eingaben für Rohtransaktion</li><li>signmessage: Signiert eine Nachricht mit dem privaten Schlüssel einer Adresse</li><li>dumpprivkey: Offenbart den privaten Schlüssel, der einer Adresse entspricht</li></ul><blockquote><p>Netzwerk</p></blockquote><ul><li>getnetworkinfo: Gibt ein Objekt zurück, das verschiedene Statusinformationen bezüglich P2P-Netzwerken enthält</li><li>getpeerinfo: Gibt Daten über jeden verbundenen Netzwerkknoten zurück</li><li>getconnectioncount: Gibt die Anzahl der Verbindungen zu anderen Knoten zurück</li></ul><blockquote><p>Mining</p></blockquote><ul><li>getmininginfo: Gibt ein Objekt zurück, das mining-bezogene Informationen enthält</li><li>getblocktemplate: Gibt Daten zurück, die benötigt werden, um einen Block zu konstruieren, an dem gearbeitet werden soll</li><li>prioritisetransaction: Akzeptiert oder priorisiert eine Transaktion im Mempool für das Mining</li></ul><h2 id=schlussfolgerung>Schlussfolgerung</h2><p>Das oben Genannte ist eine Interpretation der Kerntechnologie von Bitcoin, die sich hauptsächlich auf ihre grundlegenden Prinzipien und ihr Datenmodell konzentriert. Durch das Studium von Bitcoin können wir die Designphilosophie und den Betriebsmechanismus der Blockchain besser verstehen. Als Nächstes werden wir Ethereum studieren und analysieren, das als Blockchain 2.0 bekannt ist. Bleiben Sie dran!</p></articl><h2>Verwandte Beiträge</h2><dl class=row></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl></dl><div class=author-card><div class=underline></div><div class=author-box><div class=author-image><a href=https://www.pseudoyu.com><img src=/images/author.webp alt=pseudoyu></a></div><div class=author-content><p class=author-title>Autor</p><p class=author-name>pseudoyu</p><p class=author-desc>Backend- & Smart-Contract-Entwickler, MSc-Absolvent in ECIC (Electronic Commerce and Internet Computing) an der Universität Hongkong (HKU). Lerne und entwickle gerne Neues. <a href=https://github.com/pseudoyu>Folge mir auf GitHub</a></p></div></div></div><div align=center><div class=comment-underline></div></div><br><div class=comments><div class=title><span>Comments</span>
<span class=counter><span class=remark42__counter data-url=https://www.pseudoyu.com/de/2021/02/17/blockchain_bitcoin_basic/></span></span></div><div id=remark42></div></div><script>var remark_config={host:"https://comments.pseudoyu.com",site_id:"pseudoyu.com",components:["embed","counter"],max_shown_comments:20,simple_view:!0,theme:"light"}</script><script>(function(){const t=window.REMARK42;if(t)t.destroy(),t.createInstance(remark_config);else for(const t of remark_config.components){var n=document,e=n.createElement("script");e.src=`${remark_config.host}/web/${t}.mjs`,e.type="module",e.defer=!0,e.setAttribute("data-no-instant",""),n.head.appendChild(e)}})()</script></div></main><div class="footer gradient-2"><div class="container footer-container"><div class=row><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>Sitemap</div><ul class=list-unstyled><li><a href=https://www.pseudoyu.com/de/tags/>Schlagworte</a></li><li><a href=https://www.pseudoyu.com/de/categories/>Kategorien</a></li><li><a rel=alternate type=application/rss+xml href=https://www.pseudoyu.com/de/index.xml><i class="fas fa-rss-square"></i> RSS-Feed</a></li></ul></div><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>Social</div><ul class=list-unstyled><li><a href=https://t.me/pseudoyulife rel=noopener target=_blank>Telegram</a></li><li><a href=https://twitter.com/pseudo_yu rel=noopener target=_blank>Twitter</a></li><li><a href=https://www.instagram.com/pseudo.yu/ rel=noopener target=_blank>Instagram</a></li><li><a href=https://space.bilibili.com/5374948/ rel=noopener target=_blank>BiliBili</a></li></ul></div><div class="col-xs-4 col-sm-3 col-md-3 col-lg-3"><div class=footer-title>Links</div><ul class=list-unstyled><li><a href=https://github.com/pseudoyu rel=noopener target=_blank>Yu's GitHub</a></li></ul></div><div class="col-xs-12 col-sm-3 col-md-3 col-lg-3"><p class="pull-right text-right"><small><em><a href="https://stats.pseudoyu.com?access-token=2m1u5i2k413q0733h2a3332w3m1t6r634g1m6n" rel=noopener target=_blank>Yu's blog analytics</a></em></small><br><small><em>Powered by <a href=https://gohugo.io rel=noopener target=_blank>Hugo</a> - <a href=https://github.com/shaform/hugo-theme-den rel=noopener target=_blank>den</a></em></small><br><small><em><a href=https://www.hku.hk rel=noopener target=_blank>The University of Hong Kong</a> - <a href=https://www.cs.hku.hk rel=noopener target=_blank>CS</a></em></small><br><small>&copy;
Yu Zhang
2020 -
2024</small></p></div><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" id=scroll-top class=scroll-top accesskey=g><span class=arrow-icon></span></a>
<script>var mybutton=document.getElementById("scroll-top");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></div></div></div><script src=https://code.jquery.com/jquery-3.3.1.slim.min.js integrity=sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script></body></html>